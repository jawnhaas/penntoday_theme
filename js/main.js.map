{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/static/js/main.js","src/static/js/modules/article-gallery.js","src/static/js/modules/article-nav.js","src/static/js/modules/article-share.js","src/static/js/modules/datepicker.js","src/static/js/modules/header.js","src/static/js/modules/helpers.js","src/static/js/modules/infinite-scroll.js","src/static/js/modules/inside-penn-scroll.js","src/static/js/modules/modernizr-detect.js","src/static/js/modules/newsletter.js","src/static/js/modules/scroll-lock.js","src/static/js/modules/search.js","src/static/js/modules/slider.js","src/static/js/modules/toggle-dropdown.js","src/static/js/modules/toggle-nav.js","src/static/js/modules/video.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Slider from './modules/slider';\nimport Header from './modules/header';\nimport Search from './modules/search';\nimport ArticleNav from './modules/article-nav';\nimport ToggleNav from './modules/toggle-nav';\nimport InfiniteScroll from './modules/infinite-scroll';\nimport Video from './modules/video';\nimport Newsletter from './modules/newsletter';\nimport ArticleShare from './modules/article-share';\nimport DatePicker from './modules/datepicker';\nimport ToggleDropdown from './modules/toggle-dropdown';\nimport InsidePennScroll from './modules/inside-penn-scroll';\nimport ArticleGallery from './modules/article-gallery';\nimport ModernizrDetect from './modules/modernizr-detect';\n\n// Responsive image support\nwindow.lazySizesConfig = window.lazySizesConfig || {};\n// lazysizes loads all elements after the window onload event\nwindow.lazySizesConfig.preloadAfterLoad = true;\n\n/**\n * Create and initialize global site instance when document is ready.\n */\n\n$( document ).ready(function() {\n  new ModernizrDetect();\n  new Header();\n\n  if ( location.pathname.indexOf('/search/') >= 0 ) {\n    new Search();\n  }\n  if ( location.pathname.indexOf('/article/') >= 0 ) {\n    new ArticleShare('.article__body > *:not(\".article__popular-stories, .article__reading-list\")');\n    new ArticleGallery('.img-container');\n  }\n  if ( location.pathname.indexOf('/inside-penn/') >= 0 ) {\n    new InsidePennScroll();\n  }\n  if ( $('.js-filter-toggle').length ) {\n    new ToggleDropdown('.js-filter-toggle');\n  }\n  if ( $('.slider').length ) {\n    new Slider();\n  }\n  if ( $('.article-nav').length ) {\n    new ArticleNav();\n  }\n  if( $('.js-toggle-nav') ) {\n    new ToggleNav('.js-toggle-nav');\n  }\n  if ( $('.js-infinite-scroll').length ) {\n    new InfiniteScroll();\n  }\n  if ( $('.video-container').length ) {\n    new Video();\n  }\n  if ( $('.newsletter-callout').length ) {\n    new Newsletter();\n  }\n  if ( $('.datepicker').length ) {\n    new DatePicker();\n  }\n});\n","import ScrollLock from './scroll-lock';\n\nclass ArticleGallery {\n  constructor(imageSelector) {\n    this.$window      = $(window);\n    this.$body        = $('body');\n    this.$page        = $('.page');\n    this.$gallery     = $('.js-article-gallery');\n    this.$images      = $(imageSelector);\n    this.currentSlide = 0;\n    this.scrollLock   = new ScrollLock();\n    this.init();\n  }\n\n  init() {\n    this.$images.click( this.createGallery.bind(this) );\n    this.setImageIndex();\n  }\n\n  setImageIndex() {\n    this.$images.each(function(index, el) {\n      $(this).attr('data-index', index);\n    });\n  }\n\n  createGallery(evt) {\n    if (!this.$gallery.length) {\n      const galleryClose = '<div class=\"gallery__close-svg\"><svg viewBox=\"0 0 25 25\"><polygon fill=\"#FFFFFF\" fill-rule=\"evenodd\" points=\"40.712 455.057 51.114 465.459 49.459 467.114 39.057 456.712 28.655 467.112 27 465.457 37.402 455.057 27.002 444.655 28.658 443 39.057 453.402 49.459 443 51.114 444.655\" transform=\"translate(-27 -443)\"/></svg></div>';\n      const galleryImageWrapper = '<div class=\"js-gallery-slider\"></div>';\n      const galleryHeadline = `<h2 class=\"article-gallery__headline\">${$('.article__header').text()}</h2>`;\n      const galleryContainer = `<section class=\"js-article-gallery article-gallery\">${galleryClose}<div class=\"article-gallery__container\">${galleryImageWrapper}</div></section>`;\n\n\n      this.$page.append(galleryContainer);\n      this.$gallery = $('.js-article-gallery');\n      this.currentSlide = $(evt.currentTarget).data('index');\n    }\n\n    $('.gallery__close-svg').click(this.closeGallery.bind(this));\n\n    this.cloneImages();\n    setTimeout( this.initializeSlider.bind(this), 50);\n  }\n\n  cloneImages() {\n    let clonedImages = this.$images.clone();\n    clonedImages.removeAttr('class').addClass('img-container').find('img').removeAttr('class').addClass('lazyload blur-up');\n    clonedImages.find('noscript').remove();\n\n    clonedImages.appendTo('.js-gallery-slider');\n  }\n\n  initializeSlider() {\n    let gallerySlider = this.$gallery.find('.js-gallery-slider');\n    this.scrollLock.saveScroll();\n    gallerySlider.on('init', function () {\n      this.$body.addClass('js-gallery-active');\n    }.bind(this));\n    this.$body.addClass('js-gallery-active');\n    this.$gallery.find('.js-gallery-slider').slick({\n      dots: false,\n      infinite: true,\n      fade: true,\n      zIndex: 4,\n      swipe: false\n    });\n\n    gallerySlider.slick('slickGoTo', this.currentSlide, true);\n    gallerySlider.find('.slick-list').attr('tabindex', 0).focus();\n\n    this.$window.resize(() => {this.$gallery.find('.js-gallery-slider').slick('setPosition')});\n    this.$window.on('keydown.gallery', this.escGallery.bind(this));\n\n    this.objectFitPolyfill();\n    this.addHoverArrows();\n  }\n\n  objectFitPolyfill() {\n    if ( !Modernizr.objectfit ) {\n      this.$gallery.find('.img-container').each( function() {\n        let $container = $(this);\n        let $img = $container.find('img');\n        let imgUrl = '';\n\n        if ($img.attr('data-srcset')) {\n          imgUrl = $img.attr('data-srcset').split(\",\");\n          imgUrl = imgUrl[imgUrl.length-1].trim().split(\" \")[0];\n        }\n        else {\n          imgUrl = $img.prop('src');\n        }\n\n        if (imgUrl) {\n          $container\n          .addClass('js-object-fit')\n          .prepend('<div class=\"js-img\"></div>');\n\n          $container.find('.js-img')\n          .css('backgroundImage', 'url(' + imgUrl + ')');\n        }\n      });\n    }\n  }\n\n  addHoverArrows() {\n    this.$gallery.find('.img-container').each( function() {\n      let $container = $(this);\n      let $prevHoverSpan = '<span class=\"js-hover-arrow prev-arrow\"></span>'\n      let $nextHoverSpan = '<span class=\"js-hover-arrow next-arrow\"></span>'\n\n      $container.prepend($prevHoverSpan);\n      $container.append($nextHoverSpan);\n\n      $container.find('.prev-arrow').click( () => { $('.slick-prev').click() });\n      $container.find('.next-arrow').click( () => { $('.slick-next').click() });\n    })\n  }\n\n  closeGallery() {\n    this.$gallery.find('.js-gallery-slider').slick('unslick');\n    this.$gallery.remove();\n    this.$gallery = [];\n    this.$body.removeClass('js-gallery-active');\n    this.scrollLock.scrollPosition();\n    this.$window.off('keydown.gallery');\n  }\n\n  escGallery(evt) {\n    if (evt.which === 27) {\n      evt.preventDefault();\n      this.closeGallery();\n    }\n  }\n\n}\n\nexport default ArticleGallery;\n","import { throttle } from './helpers.js';\n\nclass ArticleNav {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.$body            = $('body');\n    this.$articleBody     = $('.article__wrapper');\n    this.$progessBar      = $('.js--progress-bar');\n    this.$progressHidden  = $('.js--progress-bar span');\n    this.$articleNav      = $('.article-nav');\n    this.$header          = $('.header');\n\n    this.headerHeight     = 0;\n    this.articleHeight    = 0;\n    this.articleTop       = 0;\n\n    this.lastScroll       = 0;\n    this.scrollTop        = 0;\n    this.documentHeight   = 0;\n    this.windowWidth      = $(window).width();\n    this.windowHeight     = $(window).height();\n    this.direction        = '';\n\n    this.hasRecirc = false;\n\n    this.bindEvents();\n    this.setTrackerHeight();\n  }\n\n  bindEvents() {\n    $(window).on('scroll', throttle.bind(this, this.onScroll));\n  }\n\n  onScroll() {\n    this.scrollTop       = $(window).scrollTop();\n    this.documentHeight  = $(document).height();\n    this.windowWidth     = $(window).width();\n    this.windowHeight    = $(window).height();\n    this.articleHeight   = this.$articleBody.height();\n    this.articleTop      = this.$articleBody.offset().top;\n    this.headerHeight    = this.$header.outerHeight() * 2;\n\n    this.getScrollDirection();\n    this.getScrollProgress();\n    this.toggleNav();\n  }\n\n  setTrackerHeight() {\n    $('.article__related').length ? this.hasRecirc = true : this.hasRecirc = false;\n  }\n\n  getScrollProgress() {\n    let currentY = this.scrollTop - this.$articleBody.offset().top,\n        scrollPercent;\n\n    if(this.hasRecirc) {\n      scrollPercent = parseFloat((currentY / (this.articleHeight - this.windowHeight / 2) * 100).toFixed(4));\n    } else {\n      scrollPercent = parseFloat((currentY / (this.articleHeight - this.windowHeight) * 100).toFixed(4));\n    }\n\n    if(this.scrollTop > this.articleTop && (this.articleTop + this.articleHeight) > this.scrollTop) {\n      this.$progessBar.css({\n        width: `${scrollPercent}%`\n      });\n      this.$progressHidden.text(`${scrollPercent}%`);\n    } else if(this.scrollTop < (this.articleTop - this.windowHeight / 2)) {\n      this.$progessBar.css({\n        width: '0%'\n      });\n    } else if(this.scrollTop > this.articleTop) {\n      this.$progessBar.css({\n        width: '100%'\n      });\n    }\n  }\n\n  getScrollDirection() {\n    let currentScroll = window.pageYOffset;\n\n    if (currentScroll > this.lastScroll && currentScroll >= 1){\n      this.direction = 'down';\n    }\n    else if (currentScroll < this.lastScroll && currentScroll <= (this.documentHeight - this.windowHeight) - 1){\n      this.direction = 'up';\n    }\n\n    this.lastScroll = currentScroll;\n    return this.direction;\n  }\n\n  toggleNav() {\n    let trackerEnd;\n\n    if(this.hasRecirc) {\n      trackerEnd = this.articleTop + (this.articleHeight - this.windowHeight / 2);\n    } else {\n      trackerEnd = this.articleTop + (this.articleHeight - this.windowHeight);\n    }\n\n    if(this.direction == 'down') {\n      if(this.scrollTop > (this.headerHeight) && (trackerEnd) > this.scrollTop) {\n        this.$body.addClass('article-nav--is-in-view');\n        this.$body.addClass('border--blue');\n      } else {\n        this.$body.removeClass('article-nav--is-in-view');\n        this.$body.removeClass('border--blue');\n      }\n    } else {\n      this.$body.removeClass('article-nav--is-in-view');\n      this.$body.removeClass('border--blue');\n    }\n  }\n}\n\nexport default ArticleNav;\n","import { throttle } from './helpers.js';\n\nclass ArticleShare {\n  constructor(selector) {\n    this.$window           = $(window);\n    this.selectableString = selector\n    this.selectable       = $(selector);\n    this.shareTool        = $('.js-share-tool');\n    this.shareToolPos     = {minTop: window.innerHeight, minLeft: window.innerWidth, maxRight: 0, firstSelectLineLeft: null};\n\n    this.init();\n  }\n\n  init() {\n    document.addEventListener('selectionchange', throttle.bind(this, this.getSelectedRange));\n    this.$window.on('scroll', throttle.bind(this, this.hideShareTool));\n  }\n\n  getSelectedRange() {\n    if (this.$window.width() <= 768) {\n      return;\n    }\n\n    this.shareTool.find('a').off();\n\n    const selection = window.getSelection();\n    this.$window.one('mousedown', function(evt){\n      if(!$(evt.target).parents('.js-share-tool').length) {\n        this.hideShareTool();\n      }\n    }.bind(this));\n\n    const range = selection.rangeCount && selection.getRangeAt(0);\n\n    if (!this.isSelectable(range)) {\n      this.hideShareTool();\n      return;\n    }\n\n    this.appendShareTool(range);\n    this.applySelectedText(selection);\n  }\n\n  applySelectedText(selection) {\n    if (selection) {\n      let encodedSelectionText = encodeURI( window.getSelection().toString() );\n\n      this.shareTool.find('.article__social-link--twitter').attr('href', `https://twitter.com/intent/tweet?text=${encodedSelectionText}`);\n    }\n  }\n\n  appendShareTool(range) {\n    let clientRects = range.getClientRects();\n    this.shareToolPos = {\n      minTop: window.innerHeight,\n      minLeft: window.innerWidth,\n      maxRight: 0\n    };\n\n    Object.keys(clientRects).forEach( function(key) {\n      let rect = clientRects[key];\n\n      if (key === '0') {\n        this.shareToolPos.firstSelectLineLeft = rect.left\n      }\n\n      this.shareToolPos.minTop = Math.min( this.shareToolPos.minTop, rect.top);\n      this.shareToolPos.minLeft = Math.min( this.shareToolPos.minLeft, rect.left);\n      this.shareToolPos.maxRight = Math.max( this.shareToolPos.maxRight, rect.right);\n\n    }.bind(this));\n\n    const midPoint = (this.shareToolPos.maxRight-this.shareToolPos.minLeft)/2 + this.shareToolPos.minLeft;\n\n    if ( this.shareToolPos.firstSelectLineLeft > midPoint ) {\n      const shareToolWidth = parseInt(this.shareTool.css('width'));\n\n      this.styleShareTool(this.shareToolPos.minTop, this.shareToolPos.firstSelectLineLeft + shareToolWidth/2);\n    } else {\n      this.styleShareTool(this.shareToolPos.minTop, midPoint);\n    }\n  }\n\n  styleShareTool(minTop, midPoint) {\n    const shareToolHeight = this.shareTool.css('height');\n    const shareToolWidth = this.shareTool.css('width');\n\n    this.shareTool.css({\n      display: 'block',\n      position: 'fixed',\n      top: minTop - parseInt(shareToolHeight),\n      left: midPoint - parseInt(shareToolWidth)/2\n    })\n  }\n\n  hideShareTool() {\n    this.shareTool.css('display', 'none');\n  }\n\n  isSelectable(range) {\n    return range &&\n    !range.collapsed &&\n    range.getClientRects().length &&\n    $(range.startContainer).parents(this.selectableString).length &&\n    $(range.endContainer).parents(this.selectableString).length;\n  }\n\n}\n\nexport default ArticleShare;\n","class DatePicker {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    $('.datepicker').datepicker();\n  }\n}\n\nexport default DatePicker;\n","import { throttle } from './helpers.js';\n\nclass Header {\n  constructor() {\n    this.$body          = $('body');\n    this.$window        = $( window );\n    this.$document      = $( document );\n    this.$header        = $('.header');\n    this.$searchOverlay = $('.search-bar__overlay');\n    this.$menuButton    = $('.js-menu-toggle');\n    this.$menuLinks     = $('.menu__overlay').find('a, button');\n    this.$searchToggle  = $('.js-search-bar-toggle');\n    this.$searchButton  = $('.js-search-bar-button');\n    this.$searchInput   = $('.js-search-bar-input');\n    this.$searchText    = $('.js-search-text');\n    this.scrollItems    = $('.menu__main-nav-wrapper, .l-site-nav__events');\n    this.headerHeight   = this.$header.outerHeight();\n    this.lastScroll     = 0;\n    this.scrollTop      = 0;\n    this.documentHeight = 0;\n    this.windowWidth    = 0;\n    this.windowHeight   = 0;\n    this.direction      = '';\n\n    this.init();\n  }\n\n  init() {\n    this.deactivateHiddenFocus();\n    this.trapMenuFocus();\n\n    this.$menuButton.click( this.toggleMenu.bind(this) );\n    this.$searchOverlay.click( this.toggleSearchBar.bind(this) );\n    this.$searchToggle.click( this.toggleSearchBar.bind(this) );\n    this.$searchButton.click( this.searchRedirect.bind(this) );\n    this.$window.on('scroll', throttle.bind(this, this.onScroll) );\n\n    this.showHeader();\n  }\n\n  toggleMenu(evt) {\n    evt.preventDefault();\n\n    if (!this.$body.hasClass('js-menu-open') && this.$window.width() >= 768) {\n      this.scrollItems.scrollTop(0);\n    }\n\n    if (this.$body.hasClass('js-menu-open')) {\n      this.deactivateMenuFocus();\n      this.$body.removeClass('js-menu-open');\n      this.$window.off('keydown.menu');\n    } else {\n      this.activateMenuFocus();\n      this.$body.addClass('js-menu-open');\n      this.$window.on('keydown.menu', this.escMenu.bind(this));\n    }\n  }\n\n  escMenu(evt) {\n    if (evt.which === 27) {\n      evt.preventDefault();\n      this.deactivateMenuFocus();\n      this.$body.removeClass('js-menu-open');\n    }\n  }\n\n  deactivateHiddenFocus() {\n    this.deactivateMenuFocus();\n    $('.header-condensed').find('a, input, button').attr('tabindex','-1');\n    $('.search-bar').find('a, input, button').attr('tabindex','-1');\n  }\n\n  deactivateMenuFocus() {\n    $('.menu__overlay .menu__close').attr('tabindex','-1');\n    this.$menuLinks.attr('tabindex','-1');\n  }\n\n  activateMenuFocus() {\n    $('.menu__overlay').attr('tabindex','0').focus();\n    this.$menuLinks.attr('tabindex','0');\n  }\n\n  trapMenuFocus() {\n    let lastTabbable = this.$menuLinks.last();\n    let firstTabbable = this.$menuLinks.first();\n\n    lastTabbable.on('keydown', function (e) {\n      if ((e.which === 9 && !e.shiftKey)) {\n        e.preventDefault();\n        firstTabbable.focus();\n      }\n    });\n\n    firstTabbable.on('keydown', function (e) {\n      if ((e.which === 9 && e.shiftKey)) {\n        e.preventDefault();\n        lastTabbable.focus();\n      }\n    });\n  }\n\n  toggleSearchBar(evt) {\n    evt.preventDefault();\n\n    if (this.$body.hasClass('js-search-open')) {\n      this.$body.removeClass('js-search-open');\n      $('.search-bar').find('a, input, button').attr('tabindex','-1');\n      this.$window.off('keydown.search');\n    } else {\n      this.$body.addClass('js-search-open');\n      this.focusSearch();\n      $('.search-bar').find('a, input, button').attr('tabindex','0');\n      this.$window.on('keydown.search', this.escSearch.bind(this));\n    }\n\n    this.toggleSearchText();\n  }\n\n  escSearch(evt) {\n    if (evt.which === 27) {\n      evt.preventDefault();\n      this.$body.removeClass('js-search-open');\n      this.toggleSearchText();\n    }\n  }\n\n  focusSearch() {\n    if (this.$body.hasClass('js-header-in-view') && Modernizr.mobilesafari) {\n      return;\n    } else {\n      $('.search-bar--main').find('.js-search-bar-input').focus();\n    }\n  }\n\n  toggleSearchText() {\n    if (this.$body.hasClass('js-search-open')) {\n      this.$searchText.text('Close');\n    } else {\n      this.$searchText.text('Search');\n    }\n  }\n\n  searchRedirect(evt) {\n    evt.preventDefault();\n    this.$window.location.assign(`/search/?term=${ this.$searchInput.val() }`);\n  }\n\n  onScroll() {\n    this.scrollTop       = this.$window.scrollTop();\n    this.documentHeight  = this.$document.height();\n    this.windowWidth     = this.$window.width();\n    this.windowHeight    = this.$window.height();\n    this.headerHeight    = this.$header.outerHeight();\n\n    this.getScrollDirection();\n    this.showHeader();\n    this.closeSearch();\n  }\n\n  getScrollDirection() {\n    let currentScroll = this.$window.pageYOffset;\n\n    if (currentScroll > this.lastScroll && currentScroll >= 1) {\n      this.direction = 'down';\n    }\n    else if (currentScroll < this.lastScroll && currentScroll <= (this.documentHeight - this.windowHeight) - 1) {\n      this.direction = 'up';\n    }\n\n    this.lastScroll = currentScroll;\n    return this.direction;\n  }\n\n  showHeader() {\n    if (this.$window.width() >= 768) {\n      if (this.$window.scrollTop() <= (this.headerHeight * 2)) {\n        this.$body.removeClass('js-header-in-view');\n        $('.header-condensed').find('a, input, button').attr('tabindex','-1');\n\n      } else {\n        this.$body.addClass('js-header-in-view');\n        $('.header-condensed').find('a, input, button').attr('tabindex','0');\n      }\n    }\n  }\n\n  closeSearch() {\n    if (!Modernizr.mobilesafari) {\n      this.$body.removeClass('js-search-open');\n      this.toggleSearchText();\n    }\n  }\n}\n\nexport default Header;\n","function throttle(func) {\n  if (this.ticking) {\n    window.requestAnimationFrame( () => {\n      func.call(this);\n      this.ticking = false;\n    });\n  }\n  this.ticking = true;\n}\n\nexport { throttle };\n","import { throttle } from './helpers.js';\n\nclass InfiniteScroll {\n  constructor() {\n    this.container     = $('.js-infinite-scroll');\n    this.scrollTrigger = 0.80;\n    this.isLoading     = false;\n    this.lastPage      = false;\n\n    this.init();\n  }\n\n  init() {\n    $(window).on('scroll', throttle.bind(this, this.onScroll));\n  }\n\n  onScroll() {\n    let scrollTop      = $(window).scrollTop();\n    let documentHeight = $(document).height();\n    let windowHeight   = $(window).height();\n\n    if ((scrollTop / (documentHeight - windowHeight)) > this.scrollTrigger) {\n\n      if (this.lastPage === false && this.isLoading === false) {\n        this.simulateAjaxCall();\n      }\n    }\n  }\n\n  simulateAjaxCall() {\n    this.isLoading = true;\n    this.container.addClass('js-loading');\n    this.container.append('<div class=\"js-loading-message\"><p class=\"js-loading-message-text\">Loading more stories...</p></div>')\n\n    if ($('.inside-penn-article__item').length > 30) {\n      this.lastPage = true;\n    }\n    // to show the loading effect\n    setTimeout( this.addMoreElements.bind(this), 1500 );\n  }\n\n  addMoreElements() {\n    let exampleContent = [\n    '<li class=\"inside-penn-article__item\"><article class=\"inside-penn-article__content\"><div class=\"inside-penn-article__image\"><img src=\"/static/img/inside-penn-images/guttman-zheng.jpg\" alt=\"Ambassador Zhang Qiyue speaking to President Amy Gutmann at a table.\"></div><p class=\"inside-penn-article__date\">July 28, 2016</p><h2 class=\"inside-penn-article__head\"><a class=\"inside-penn-article__link\" href=\"https://www.flickr.com/photos/universityofpennsylvania/sets/72157671639608215\" target=\"_blank\">Gutmann Welcomes Chinese Dignitaries to Penn</a></h2><p class=\"inside-penn-article__summary\">On July 27, President Amy Gutmann hosted Ambassador Zhang Qiyue, consul general of the People’s Republic of China in New York, and Education Counselor Xu Yongji to the University of Pennsylvania. They discussed the importance of U.S.-China collaboration and especially the critical role education plays in relations between the two countries.</p><p class=\"inside-penn-article__source\">Full story at <a class=\"inside-penn-article__source-link\" href=\"https://www.flickr.com/photos/universityofpennsylvania/sets/72157671639608215\" target=\"_blank\">Penn Flickr</a></p></article></li>',\n    '<li class=\"inside-penn-article__item\"><article class=\"inside-penn-article__content\"><p class=\"inside-penn-article__date\">December 20, 2016</p><h2 class=\"inside-penn-article__head\"><a class=\"inside-penn-article__link\" href=\"http://www.annenbergpublicpolicycenter.org/journalist-andrew-rosenthal-joins-appc-as-professional-in-residence/\" target=\"_blank\">Andrew Rosenthal Joins APPC as Professional in Residence</a></h2><p class=\"inside-penn-article__summary\">Andrew Rosenthal, an op-ed columnist and former editor and correspondent for The New York Times, has joined the Annenberg Public Policy Center for the 2017 spring semester as a professional in residence. He’ll be writing a memoir about his life in journalism, from the pre-internet era to today.</p><p class=\"inside-penn-article__source\">Full story at <a class=\"inside-penn-article__source-link\" href=\"http://www.annenbergpublicpolicycenter.org/journalist-andrew-rosenthal-joins-appc-as-professional-in-residence/\" target=\"_blank\">Annenberg Policy Center →</a></p></li>',\n    '<li class=\"inside-penn-article__item\"><article class=\"inside-penn-article__content\"><div class=\"inside-penn-article__image\"><img src=\"http://sportslabs-webproxy.imgix.net/http%3A%2F%2Fstatic.silverchalice.co%2Fpenn-prod%2F2017%2F03%2F05%2F1488750795601-reeham_and_marie.jpg?fit=clip&amp;h=1065&amp;w=1600&amp;s=7e1b33bbfa33f31e556e69329fd9f8c1\" alt=\"\"></div><p class=\"inside-penn-article__date\">March 6, 2017</p><h2 class=\"inside-penn-article__head\"><a class=\"inside-penn-article__link\" href=\"http://www.pennathletics.com/news/salah-and-stephan-earn-all-america-honors-for-women-s-squash-03-05-2017\" target=\"_blank\">Salah and Stephan Earn All-America Honors for Women\\'s Squash</a></h2><p class=\"inside-penn-article__summary\">Salah, who is a first-team All-America for a second-straight season, rattled off three victories before falling in the championship match. The sophomore began her run on Friday with a 3-0 win over Stanford’s Casey Wong. She followed with sweeps over Jenny Scherl of Yale and Kayley Leonard of Harvard on Saturday. Stephan posted a pair of victories before also dropping a matchup to Kennedy in the semifinals. Stephan had to comeback from two sets down to defeat Trinity’s Salma Alam Eldin in the first round before tallying a 3-0 win over the Bantams’ Raneem Sharaf.</p><p class=\"inside-penn-article__source\">Full story at <a class=\"inside-penn-article__source-link\" href=\"http://www.pennathletics.com/news/salah-and-stephan-earn-all-america-honors-for-women-s-squash-03-05-2017\" target=\"_blank\">Penn Athletics →</a></p></article></li>',\n    '<li class=\"inside-penn-article__item\"><article class=\"inside-penn-article__content\"><p class=\"inside-penn-article__date\">February 13, 2017</p><h2 class=\"inside-penn-article__head\"><a class=\"inside-penn-article__link\" href=\"http://www.pennathletics.com/news/hatler-runs-sub-four-minute-mile-men-s-dmr-wins-at-millrose-games-02-12-2017\" target=\"_blank\">Hatler Runs Sub-Four-Minute Mile, Men\\'s DMR Wins at Millrose Games</a></h2><p class=\"inside-penn-article__summary\">At the Millrose Games in New York, senior Chris Hatler became just the second Quaker ever to run a sub-four minute mile. The DMR team of Elias Graca, Calvary Rogers, Jeff Wiseman and Ross Wilson took home first place.</p><p class=\"inside-penn-article__source\">Full story at <a class=\"inside-penn-article__source-link\" href=\"http://www.pennathletics.com/news/hatler-runs-sub-four-minute-mile-men-s-dmr-wins-at-millrose-games-02-12-2017\" target=\"_blank\">Penn Athletics →</a></p></article></li>',\n    '<li class=\"inside-penn-article__item\"><article class=\"inside-penn-article__content\"><p class=\"inside-penn-article__date\">December 20, 2016</p><h2 class=\"inside-penn-article__head\"><a class=\"inside-penn-article__link\" href=\"http://www.annenbergpublicpolicycenter.org/journalist-andrew-rosenthal-joins-appc-as-professional-in-residence/\" target=\"_blank\">Andrew Rosenthal Joins APPC as Professional in Residence</a></h2><p class=\"inside-penn-article__summary\">Andrew Rosenthal, an op-ed columnist and former editor and correspondent for The New York Times, has joined the Annenberg Public Policy Center for the 2017 spring semester as a professional in residence. He’ll be writing a memoir about his life in journalism, from the pre-internet era to today.</p><p class=\"inside-penn-article__source\">Full story at <a class=\"inside-penn-article__source-link\" href=\"http://www.annenbergpublicpolicycenter.org/journalist-andrew-rosenthal-joins-appc-as-professional-in-residence/\" target=\"_blank\">Annenberg Policy Center →</a></p></article></li>'\n    ]\n\n    this.container.append(exampleContent);\n\n    this.container.removeClass('js-loading');\n    $('.js-loading-message').remove();\n    this.isLoading = false;\n  }\n\n}\n\nexport default InfiniteScroll;\n","import { throttle } from './helpers.js';\n\nclass InsidePennScroll {\n  constructor() {\n    this.pageHeight   = $(document).height();\n    this.$window      = $(window);\n    this.fixedContent = $('.js-fixed-content');\n    this.footer       = $('.footer');\n\n    this.init();\n  }\n\n  init() {\n    this.$window.on('scroll', throttle.bind(this, this.stickElement));\n  }\n\n  stickElement(containerHeight) {\n    let footerOffset = this.footer.offset().top;\n\n    if ((footerOffset - this.$window.height()) < this.$window.scrollTop()) {\n      this.fixedContent.addClass('js-stick');\n    } else {\n      this.fixedContent.removeClass('js-stick');\n    }\n  }\n}\n\nexport default InsidePennScroll;\n","class ModernizrDetect {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.detectMobileSafari();\n    this.detectWindowsFirefox();\n    this.detectIE11();\n  }\n\n  detectMobileSafari() {\n    Modernizr.addTest('mobilesafari', () => {\n      return /iP(ad|hone|od).+Version\\/[\\d\\.]+.*Safari/i.test(navigator.userAgent);\n    });\n  }\n\n  detectWindowsFirefox() {\n    Modernizr.addTest('windowsfirefox', () => {\n      return /Windows.+Firefox/i.test(navigator.userAgent);\n    });\n  }\n\n  detectIE11() {\n    Modernizr.addTest('ie11', () => {\n      return /Trident.*rv:11\\./i.test(navigator.userAgent);\n    })\n  }\n};\n\nexport default ModernizrDetect;\n","class Newsletter {\n  constructor(){\n    this.$newsletterForm = $('#newsletter-form');\n    this.$emailField     = $('.newsletter-form__email');\n    this.$submitButton   = $('.newsletter-form__submit');\n\n    this.init();\n  }\n\n  init() {\n    this.$emailField.on('input', this.inputOnChange.bind(this));\n    this.$emailField.on('click', this.clearInput.bind(this));\n    this.$newsletterForm.on('submit', this.newsletterOnSubmit.bind(this));\n  }\n\n  //  Submission\n  //----------------------------------------------------------------------------\n\n  newsletterOnSubmit(evt) {\n    evt.preventDefault();\n\n    if (this.validateEmail()) {\n      //before send so you can't submit more than once\n      this.onBeforeSend();\n      // send email\n      this.onSuccess();\n    } else {\n      this.$newsletterForm.addClass('js-has-error');\n      this.onError('Please input a valid email');\n    }\n  }\n\n  //  Validation\n  //----------------------------------------------------------------------------\n\n  validateEmail() {\n    return Boolean(this.$emailField.val().match(/[^@]+@[^@]+\\.[a-z]/));\n  }\n\n  clearInput() {\n    this.$emailField.val('');\n  }\n\n  inputOnChange(evt) {\n    this.$newsletterForm.removeClass('js-has-error js-success');\n    if (this.$submitButton.val() !== 'subscribe') this.$submitButton.val('subscribe');\n\n    if (this.validateEmail()) {\n      this.$submitButton.addClass('js-active');\n    } else {\n      this.$submitButton.removeClass('js-active');\n    }\n  }\n\n  //  Submission Handler\n  //----------------------------------------------------------------------------\n  onBeforeSend() {\n    this.$submitButton.attr('disabled', true);\n  }\n\n  onError(txt) {\n    this.$submitButton.attr('disabled', false).val('Whoops! Something doesn’t look quite right');;\n    this.$newsletterForm.addClass('js-has-error');\n  }\n\n  onSuccess(res) {\n    this.$submitButton.attr('disabled', false).val('subscribed!');\n    this.$newsletterForm.addClass('js-success');\n  }\n\n}\n\nexport default Newsletter;\n","class ScrollLock {\n  constructor() {\n    this.locked = false;\n    this.prevScroll = {\n      scrollTop: $(window).scrollTop()\n    }\n  }\n\n  saveScroll() {\n    this.prevScroll = {\n      scrollTop: $(window).scrollTop()\n    };\n  }\n\n  toggleLock() {\n    this.locked = this.locked != true;\n\n    if(this.locked){\n      this.saveScroll();\n    }\n  }\n\n  scrollPosition() {\n    let _this = this;\n    $(window).scrollTop(_this.prevScroll.scrollTop);\n  }\n}\n\nexport default ScrollLock;\n","class Search {\n  constructor() {\n    this.$searchForm    = $('.js-search-page-form');\n    this.$searchInput   = $('.js-search-page-input');\n    this.$numResults    = $('.js-num-results');\n    this.$filterOptions = $('.js-filter-option');\n    this.$articles      = $('.js-filterable .tease');\n    this.$filterList    = $('.filter-results__list');\n\n    this.init();\n  }\n\n  init() {\n    let searchTerm = this.parseUrl('term');\n\n    if (searchTerm) {\n      this.$searchInput.val(decodeURIComponent(searchTerm));\n    }\n    this.$searchForm.submit( this.searchRedirect.bind(this) );\n    this.$searchInput.click( this.clearSearch.bind(this) );\n\n    let numArticles = this.$articles.length;\n    this.$numResults.text(numArticles);\n\n    this.$filterOptions.click( this.filter.bind(this) );\n\n  }\n\n  clearSearch() {\n    this.$searchInput.val('');\n  }\n\n  searchRedirect(evt) {\n    evt.preventDefault();\n    window.location.assign(`/search/?term=${ this.$searchInput.val() }`);\n  }\n\n  parseUrl(name) {\n    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n    return results ? results[1] : 0;\n  }\n\n  filter(evt) {\n    evt.preventDefault();\n\n    let $activeFilter = $(evt.target);\n    let filterTerm = $activeFilter.text();\n\n    this.$filterOptions.removeClass('js-active-filter');\n    this.$articles.removeClass('js-filtered');\n\n    let notMatchedArticlesArray = this.$articles.filter( (i, article) => {\n      let category = $(article).find('.tease__category').text();\n      return category !== filterTerm;\n    });\n\n    let numArticles = this.$articles.length - notMatchedArticlesArray.length;\n    this.$numResults.text(numArticles);\n\n    $activeFilter.addClass('js-active-filter');\n    notMatchedArticlesArray.addClass('js-filtered');\n\n    this.addFilterTag( $activeFilter.text() );\n  }\n\n  addFilterTag(filterText) {\n    let filterTagHTML = `<li class=\"filter-results__item\"><span class=\"filter-results__label\">Filter(s) applied:</span> <span class=\"filter-results__text\">${filterText}</span>&nbsp;<div class=\"filter-results__clear\">×</div></li>`;\n    this.$filterList.html(filterTagHTML);\n\n    $('.filter-results__item').click( this.removeFilters.bind(this) );\n  }\n\n  removeFilters(evt) {\n    this.$filterOptions.removeClass('js-active-filter');\n    this.$articles.removeClass('js-filtered');\n\n    this.$numResults.text( this.$articles.length );\n\n    $('.filter-results__item').remove();\n  }\n\n};\n\nexport default Search;\n","class Slider {\n  constructor() {\n    this.$imageSlider = $('.slider--image');\n    this.$newsSlider  = $('.slider--news');\n\n    this.breakpoint = {\n      mobile: 500,\n      mobileHoriz: 600,\n      tablet: 768,\n      tabletHoriz: 1080,\n      desktop: 1200,\n      desktopXl: 1440\n    };\n\n    this.init();\n  }\n\n  init() {\n    this.$imageSlider.slick({\n      dots: true,\n      infinite: true,\n    });\n    this.createNewsSlider();\n\n    $(document).find('.slick-list').attr('tabindex', 0);\n  }\n\n  createNewsSlider() {\n    this.$newsSlider.slick({\n      centerMode: true,\n      slidesToShow: 5,\n      arrows: true,\n      dots: true,\n\n      responsive: [{\n\n        breakpoint: this.breakpoint.desktopXl,\n        settings: {\n          centerMode: true,\n          slidesToShow: 4,\n        }\n      }, {\n\n        breakpoint: this.breakpoint.desktop,\n        settings: {\n          centerMode: true,\n          slidesToShow: 3,\n        }\n      }, {\n\n        breakpoint: this.breakpoint.tabletHoriz,\n        settings: {\n          centerMode: true,\n          slidesToShow: 3,\n        }\n      }, {\n\n        breakpoint: this.breakpoint.tablet,\n        settings: {\n          centerMode: true,\n          slidesToShow: 2,\n          arrows: false,\n        }\n      }, {\n\n        breakpoint: this.breakpoint.mobileHoriz,\n        settings: {\n          centerMode: true,\n          slidesToShow: 2,\n          arrows: false,\n        }\n      }, {\n\n        breakpoint: this.breakpoint.mobile,\n        settings: {\n          centerMode: true,\n          slidesToShow: 1,\n          arrows: false,\n        }\n      }]\n    });\n  }\n\n};\n\nexport default Slider;\n","class ToggleDropdown {\n  constructor(el) {\n    this.$toggleClick = $(el);\n    this.init();\n  }\n\n  init() {\n    this.$toggleClick.click( this.toggleFilter.bind(this) );\n  }\n\n  toggleFilter(evt) {\n    let $activeItem = $(evt.target).parent();\n    $activeItem.toggleClass('filter-list--in-view');\n\n    let $activeContent = $activeItem.next();\n\n    if ($activeItem.hasClass('filter-list--in-view')) {\n      $activeContent.slideDown('fast');\n    } else {\n      $activeContent.slideUp('fast');\n    }\n  }\n}\n\nexport default ToggleDropdown;\n","class ToggleNav {\n  constructor(el) {\n    this.toggleNav = $(el);\n    this.init();\n  }\n\n  init() {\n    this.toggleNav.on('click', this.switchTabs.bind(this));\n    $('.toggle-navigation__item').first().css({\n      display: 'block'\n    });\n  }\n\n  switchTabs(evt) {\n    let $currentLink = $(evt.target);\n    let $currentFilterItem = $currentLink.text();\n\n    $('.js-toggle-nav li button').not($currentLink).removeClass('toggle-navigation__button--active');\n    $currentLink.addClass('toggle-navigation__button--active');\n\n    $('.toggle-navigation__item').removeClass('toggle-navigation__item--active');\n    $(`.toggle-navigation__item[data-toggle='${$currentFilterItem}']`).addClass('toggle-navigation__item--active');\n\n    $(`.toggle-navigation__item[data-toggle='${$currentFilterItem}']`).addClass('toggle-navigation__item--active');\n\n    if ($(`.js-toggle-fade[data-toggle-unactive='${$currentFilterItem}']`).length) {\n      $(`.js-toggle-fade[data-toggle-unactive='${$currentFilterItem}']`).addClass('toggle-item-fade--active');\n    } else {\n      $('.js-toggle-fade').removeClass('toggle-item-fade--active');\n    }\n\n    this.animateItems();\n  }\n\n  animateItems() {\n    $('.toggle-navigation__item').each(function(index, el) {\n      if($(this).hasClass('toggle-navigation__item--active')) {\n        $(this).fadeIn('fast');\n      } else {\n        $(this).fadeOut('fast');\n      }\n    });\n  }\n}\n\nexport default ToggleNav;\n","class Video {\n  constructor() {\n    this.video = $('.js-video');\n    this.videoContainer = this.video.parent('.video-container');\n    this.playButton = this.videoContainer.find('.js-play-video');\n\n    this.init();\n  }\n\n  init() {\n    this.videoContainer.mouseenter( this.showControls.bind(this) );\n    this.videoContainer.mouseleave( this.hideControls.bind(this) );\n    this.playButton.click( this.togglePlay.bind(this) );\n  }\n\n  showControls() {\n    this.videoContainer.addClass('js-video--show-controls');\n    this.video.attr('controls', 'controls')\n  }\n\n  hideControls() {\n    this.videoContainer.removeClass('js-video--show-controls');\n    this.video.attr('controls', null)\n  }\n\n  togglePlay(evt) {\n    let video = $(evt.target).parents('.video-container').find('video')[0];\n\n    if (video.paused) {\n      video.play();\n      this.videoContainer.addClass('js-video--play');\n    } else {\n      video.pause();\n      this.videoContainer.removeClass('js-video--play');\n    }\n  }\n};\n\nexport default Video;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc3RhdGljL2pzL21haW4uanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvYXJ0aWNsZS1nYWxsZXJ5LmpzIiwic3JjL3N0YXRpYy9qcy9tb2R1bGVzL2FydGljbGUtbmF2LmpzIiwic3JjL3N0YXRpYy9qcy9tb2R1bGVzL2FydGljbGUtc2hhcmUuanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvZGF0ZXBpY2tlci5qcyIsInNyYy9zdGF0aWMvanMvbW9kdWxlcy9oZWFkZXIuanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvaGVscGVycy5qcyIsInNyYy9zdGF0aWMvanMvbW9kdWxlcy9pbmZpbml0ZS1zY3JvbGwuanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvaW5zaWRlLXBlbm4tc2Nyb2xsLmpzIiwic3JjL3N0YXRpYy9qcy9tb2R1bGVzL21vZGVybml6ci1kZXRlY3QuanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvbmV3c2xldHRlci5qcyIsInNyYy9zdGF0aWMvanMvbW9kdWxlcy9zY3JvbGwtbG9jay5qcyIsInNyYy9zdGF0aWMvanMvbW9kdWxlcy9zZWFyY2guanMiLCJzcmMvc3RhdGljL2pzL21vZHVsZXMvc2xpZGVyLmpzIiwic3JjL3N0YXRpYy9qcy9tb2R1bGVzL3RvZ2dsZS1kcm9wZG93bi5qcyIsInNyYy9zdGF0aWMvanMvbW9kdWxlcy90b2dnbGUtbmF2LmpzIiwic3JjL3N0YXRpYy9qcy9tb2R1bGVzL3ZpZGVvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLE9BQU8sZUFBUCxHQUF5QixPQUFPLGVBQVAsSUFBMEIsRUFB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QWdCLFVBQWhCLEVBQTRCLElBQTVCO0FBQ0Q7OzsrQkFFVSxHLEVBQUs7QUFDZCxVQUFJLFFBQVEsRUFBRSxJQUFJLE1BQU4sRUFBYyxPQUFkLENBQXNCLGtCQUF0QixFQUEwQyxJQUExQyxDQUErQyxPQUEvQyxFQUF3RCxDQUF4RCxDQUFaOztBQUVBLFVBQUksTUFBTSxNQUFWLEVBQWtCO0FBQ2hCLGNBQU0sSUFBTjtBQUNBLGFBQUssY0FBTCxDQUFvQixRQUFwQixDQUE2QixnQkFBN0I7QUFDRCxPQUhELE1BR087QUFDTCxjQUFNLEtBQU47QUFDQSxhQUFLLGNBQUwsQ0FBb0IsV0FBcEIsQ0FBZ0MsZ0JBQWhDO0FBQ0Q7QUFDRjs7Ozs7O0FBQ0Y7O2tCQUVjLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IFNsaWRlciBmcm9tICcuL21vZHVsZXMvc2xpZGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9tb2R1bGVzL2hlYWRlcic7XG5pbXBvcnQgU2VhcmNoIGZyb20gJy4vbW9kdWxlcy9zZWFyY2gnO1xuaW1wb3J0IEFydGljbGVOYXYgZnJvbSAnLi9tb2R1bGVzL2FydGljbGUtbmF2JztcbmltcG9ydCBUb2dnbGVOYXYgZnJvbSAnLi9tb2R1bGVzL3RvZ2dsZS1uYXYnO1xuaW1wb3J0IEluZmluaXRlU2Nyb2xsIGZyb20gJy4vbW9kdWxlcy9pbmZpbml0ZS1zY3JvbGwnO1xuaW1wb3J0IFZpZGVvIGZyb20gJy4vbW9kdWxlcy92aWRlbyc7XG5pbXBvcnQgTmV3c2xldHRlciBmcm9tICcuL21vZHVsZXMvbmV3c2xldHRlcic7XG5pbXBvcnQgQXJ0aWNsZVNoYXJlIGZyb20gJy4vbW9kdWxlcy9hcnRpY2xlLXNoYXJlJztcbmltcG9ydCBEYXRlUGlja2VyIGZyb20gJy4vbW9kdWxlcy9kYXRlcGlja2VyJztcbmltcG9ydCBUb2dnbGVEcm9wZG93biBmcm9tICcuL21vZHVsZXMvdG9nZ2xlLWRyb3Bkb3duJztcbmltcG9ydCBJbnNpZGVQZW5uU2Nyb2xsIGZyb20gJy4vbW9kdWxlcy9pbnNpZGUtcGVubi1zY3JvbGwnO1xuaW1wb3J0IEFydGljbGVHYWxsZXJ5IGZyb20gJy4vbW9kdWxlcy9hcnRpY2xlLWdhbGxlcnknO1xuaW1wb3J0IE1vZGVybml6ckRldGVjdCBmcm9tICcuL21vZHVsZXMvbW9kZXJuaXpyLWRldGVjdCc7XG5cbi8vIFJlc3BvbnNpdmUgaW1hZ2Ugc3VwcG9ydFxud2luZG93LmxhenlTaXplc0NvbmZpZyA9IHdpbmRvdy5sYXp5U2l6ZXNDb25maWcgfHwge307XG4vLyBsYXp5c2l6ZXMgbG9hZHMgYWxsIGVsZW1lbnRzIGFmdGVyIHRoZSB3aW5kb3cgb25sb2FkIGV2ZW50XG53aW5kb3cubGF6eVNpemVzQ29uZmlnLnByZWxvYWRBZnRlckxvYWQgPSB0cnVlO1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgaW5pdGlhbGl6ZSBnbG9iYWwgc2l0ZSBpbnN0YW5jZSB3aGVuIGRvY3VtZW50IGlzIHJlYWR5LlxuICovXG5cbiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIG5ldyBNb2Rlcm5penJEZXRlY3QoKTtcbiAgbmV3IEhlYWRlcigpO1xuXG4gIGlmICggbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NlYXJjaC8nKSA+PSAwICkge1xuICAgIG5ldyBTZWFyY2goKTtcbiAgfVxuICBpZiAoIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9hcnRpY2xlLycpID49IDAgKSB7XG4gICAgbmV3IEFydGljbGVTaGFyZSgnLmFydGljbGVfX2JvZHkgPiAqOm5vdChcIi5hcnRpY2xlX19wb3B1bGFyLXN0b3JpZXMsIC5hcnRpY2xlX19yZWFkaW5nLWxpc3RcIiknKTtcbiAgICBuZXcgQXJ0aWNsZUdhbGxlcnkoJy5pbWctY29udGFpbmVyJyk7XG4gIH1cbiAgaWYgKCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvaW5zaWRlLXBlbm4vJykgPj0gMCApIHtcbiAgICBuZXcgSW5zaWRlUGVublNjcm9sbCgpO1xuICB9XG4gIGlmICggJCgnLmpzLWZpbHRlci10b2dnbGUnKS5sZW5ndGggKSB7XG4gICAgbmV3IFRvZ2dsZURyb3Bkb3duKCcuanMtZmlsdGVyLXRvZ2dsZScpO1xuICB9XG4gIGlmICggJCgnLnNsaWRlcicpLmxlbmd0aCApIHtcbiAgICBuZXcgU2xpZGVyKCk7XG4gIH1cbiAgaWYgKCAkKCcuYXJ0aWNsZS1uYXYnKS5sZW5ndGggKSB7XG4gICAgbmV3IEFydGljbGVOYXYoKTtcbiAgfVxuICBpZiggJCgnLmpzLXRvZ2dsZS1uYXYnKSApIHtcbiAgICBuZXcgVG9nZ2xlTmF2KCcuanMtdG9nZ2xlLW5hdicpO1xuICB9XG4gIGlmICggJCgnLmpzLWluZmluaXRlLXNjcm9sbCcpLmxlbmd0aCApIHtcbiAgICBuZXcgSW5maW5pdGVTY3JvbGwoKTtcbiAgfVxuICBpZiAoICQoJy52aWRlby1jb250YWluZXInKS5sZW5ndGggKSB7XG4gICAgbmV3IFZpZGVvKCk7XG4gIH1cbiAgaWYgKCAkKCcubmV3c2xldHRlci1jYWxsb3V0JykubGVuZ3RoICkge1xuICAgIG5ldyBOZXdzbGV0dGVyKCk7XG4gIH1cbiAgaWYgKCAkKCcuZGF0ZXBpY2tlcicpLmxlbmd0aCApIHtcbiAgICBuZXcgRGF0ZVBpY2tlcigpO1xuICB9XG59KTtcbiIsImltcG9ydCBTY3JvbGxMb2NrIGZyb20gJy4vc2Nyb2xsLWxvY2snO1xuXG5jbGFzcyBBcnRpY2xlR2FsbGVyeSB7XG4gIGNvbnN0cnVjdG9yKGltYWdlU2VsZWN0b3IpIHtcbiAgICB0aGlzLiR3aW5kb3cgICAgICA9ICQod2luZG93KTtcbiAgICB0aGlzLiRib2R5ICAgICAgICA9ICQoJ2JvZHknKTtcbiAgICB0aGlzLiRwYWdlICAgICAgICA9ICQoJy5wYWdlJyk7XG4gICAgdGhpcy4kZ2FsbGVyeSAgICAgPSAkKCcuanMtYXJ0aWNsZS1nYWxsZXJ5Jyk7XG4gICAgdGhpcy4kaW1hZ2VzICAgICAgPSAkKGltYWdlU2VsZWN0b3IpO1xuICAgIHRoaXMuY3VycmVudFNsaWRlID0gMDtcbiAgICB0aGlzLnNjcm9sbExvY2sgICA9IG5ldyBTY3JvbGxMb2NrKCk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuJGltYWdlcy5jbGljayggdGhpcy5jcmVhdGVHYWxsZXJ5LmJpbmQodGhpcykgKTtcbiAgICB0aGlzLnNldEltYWdlSW5kZXgoKTtcbiAgfVxuXG4gIHNldEltYWdlSW5kZXgoKSB7XG4gICAgdGhpcy4kaW1hZ2VzLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaW5kZXgnLCBpbmRleCk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVHYWxsZXJ5KGV2dCkge1xuICAgIGlmICghdGhpcy4kZ2FsbGVyeS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGdhbGxlcnlDbG9zZSA9ICc8ZGl2IGNsYXNzPVwiZ2FsbGVyeV9fY2xvc2Utc3ZnXCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDI1IDI1XCI+PHBvbHlnb24gZmlsbD1cIiNGRkZGRkZcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgcG9pbnRzPVwiNDAuNzEyIDQ1NS4wNTcgNTEuMTE0IDQ2NS40NTkgNDkuNDU5IDQ2Ny4xMTQgMzkuMDU3IDQ1Ni43MTIgMjguNjU1IDQ2Ny4xMTIgMjcgNDY1LjQ1NyAzNy40MDIgNDU1LjA1NyAyNy4wMDIgNDQ0LjY1NSAyOC42NTggNDQzIDM5LjA1NyA0NTMuNDAyIDQ5LjQ1OSA0NDMgNTEuMTE0IDQ0NC42NTVcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTI3IC00NDMpXCIvPjwvc3ZnPjwvZGl2Pic7XG4gICAgICBjb25zdCBnYWxsZXJ5SW1hZ2VXcmFwcGVyID0gJzxkaXYgY2xhc3M9XCJqcy1nYWxsZXJ5LXNsaWRlclwiPjwvZGl2Pic7XG4gICAgICBjb25zdCBnYWxsZXJ5SGVhZGxpbmUgPSBgPGgyIGNsYXNzPVwiYXJ0aWNsZS1nYWxsZXJ5X19oZWFkbGluZVwiPiR7JCgnLmFydGljbGVfX2hlYWRlcicpLnRleHQoKX08L2gyPmA7XG4gICAgICBjb25zdCBnYWxsZXJ5Q29udGFpbmVyID0gYDxzZWN0aW9uIGNsYXNzPVwianMtYXJ0aWNsZS1nYWxsZXJ5IGFydGljbGUtZ2FsbGVyeVwiPiR7Z2FsbGVyeUNsb3NlfTxkaXYgY2xhc3M9XCJhcnRpY2xlLWdhbGxlcnlfX2NvbnRhaW5lclwiPiR7Z2FsbGVyeUltYWdlV3JhcHBlcn08L2Rpdj48L3NlY3Rpb24+YDtcblxuXG4gICAgICB0aGlzLiRwYWdlLmFwcGVuZChnYWxsZXJ5Q29udGFpbmVyKTtcbiAgICAgIHRoaXMuJGdhbGxlcnkgPSAkKCcuanMtYXJ0aWNsZS1nYWxsZXJ5Jyk7XG4gICAgICB0aGlzLmN1cnJlbnRTbGlkZSA9ICQoZXZ0LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2luZGV4Jyk7XG4gICAgfVxuXG4gICAgJCgnLmdhbGxlcnlfX2Nsb3NlLXN2ZycpLmNsaWNrKHRoaXMuY2xvc2VHYWxsZXJ5LmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5jbG9uZUltYWdlcygpO1xuICAgIHNldFRpbWVvdXQoIHRoaXMuaW5pdGlhbGl6ZVNsaWRlci5iaW5kKHRoaXMpLCA1MCk7XG4gIH1cblxuICBjbG9uZUltYWdlcygpIHtcbiAgICBsZXQgY2xvbmVkSW1hZ2VzID0gdGhpcy4kaW1hZ2VzLmNsb25lKCk7XG4gICAgY2xvbmVkSW1hZ2VzLnJlbW92ZUF0dHIoJ2NsYXNzJykuYWRkQ2xhc3MoJ2ltZy1jb250YWluZXInKS5maW5kKCdpbWcnKS5yZW1vdmVBdHRyKCdjbGFzcycpLmFkZENsYXNzKCdsYXp5bG9hZCBibHVyLXVwJyk7XG4gICAgY2xvbmVkSW1hZ2VzLmZpbmQoJ25vc2NyaXB0JykucmVtb3ZlKCk7XG5cbiAgICBjbG9uZWRJbWFnZXMuYXBwZW5kVG8oJy5qcy1nYWxsZXJ5LXNsaWRlcicpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVNsaWRlcigpIHtcbiAgICBsZXQgZ2FsbGVyeVNsaWRlciA9IHRoaXMuJGdhbGxlcnkuZmluZCgnLmpzLWdhbGxlcnktc2xpZGVyJyk7XG4gICAgdGhpcy5zY3JvbGxMb2NrLnNhdmVTY3JvbGwoKTtcbiAgICBnYWxsZXJ5U2xpZGVyLm9uKCdpbml0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kYm9keS5hZGRDbGFzcygnanMtZ2FsbGVyeS1hY3RpdmUnKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ2pzLWdhbGxlcnktYWN0aXZlJyk7XG4gICAgdGhpcy4kZ2FsbGVyeS5maW5kKCcuanMtZ2FsbGVyeS1zbGlkZXInKS5zbGljayh7XG4gICAgICBkb3RzOiBmYWxzZSxcbiAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgZmFkZTogdHJ1ZSxcbiAgICAgIHpJbmRleDogNCxcbiAgICAgIHN3aXBlOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgZ2FsbGVyeVNsaWRlci5zbGljaygnc2xpY2tHb1RvJywgdGhpcy5jdXJyZW50U2xpZGUsIHRydWUpO1xuICAgIGdhbGxlcnlTbGlkZXIuZmluZCgnLnNsaWNrLWxpc3QnKS5hdHRyKCd0YWJpbmRleCcsIDApLmZvY3VzKCk7XG5cbiAgICB0aGlzLiR3aW5kb3cucmVzaXplKCgpID0+IHt0aGlzLiRnYWxsZXJ5LmZpbmQoJy5qcy1nYWxsZXJ5LXNsaWRlcicpLnNsaWNrKCdzZXRQb3NpdGlvbicpfSk7XG4gICAgdGhpcy4kd2luZG93Lm9uKCdrZXlkb3duLmdhbGxlcnknLCB0aGlzLmVzY0dhbGxlcnkuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLm9iamVjdEZpdFBvbHlmaWxsKCk7XG4gICAgdGhpcy5hZGRIb3ZlckFycm93cygpO1xuICB9XG5cbiAgb2JqZWN0Rml0UG9seWZpbGwoKSB7XG4gICAgaWYgKCAhTW9kZXJuaXpyLm9iamVjdGZpdCApIHtcbiAgICAgIHRoaXMuJGdhbGxlcnkuZmluZCgnLmltZy1jb250YWluZXInKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuICAgICAgICBsZXQgJGltZyA9ICRjb250YWluZXIuZmluZCgnaW1nJyk7XG4gICAgICAgIGxldCBpbWdVcmwgPSAnJztcblxuICAgICAgICBpZiAoJGltZy5hdHRyKCdkYXRhLXNyY3NldCcpKSB7XG4gICAgICAgICAgaW1nVXJsID0gJGltZy5hdHRyKCdkYXRhLXNyY3NldCcpLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICBpbWdVcmwgPSBpbWdVcmxbaW1nVXJsLmxlbmd0aC0xXS50cmltKCkuc3BsaXQoXCIgXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGltZ1VybCA9ICRpbWcucHJvcCgnc3JjJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1nVXJsKSB7XG4gICAgICAgICAgJGNvbnRhaW5lclxuICAgICAgICAgIC5hZGRDbGFzcygnanMtb2JqZWN0LWZpdCcpXG4gICAgICAgICAgLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJqcy1pbWdcIj48L2Rpdj4nKTtcblxuICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmpzLWltZycpXG4gICAgICAgICAgLmNzcygnYmFja2dyb3VuZEltYWdlJywgJ3VybCgnICsgaW1nVXJsICsgJyknKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYWRkSG92ZXJBcnJvd3MoKSB7XG4gICAgdGhpcy4kZ2FsbGVyeS5maW5kKCcuaW1nLWNvbnRhaW5lcicpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgbGV0ICRjb250YWluZXIgPSAkKHRoaXMpO1xuICAgICAgbGV0ICRwcmV2SG92ZXJTcGFuID0gJzxzcGFuIGNsYXNzPVwianMtaG92ZXItYXJyb3cgcHJldi1hcnJvd1wiPjwvc3Bhbj4nXG4gICAgICBsZXQgJG5leHRIb3ZlclNwYW4gPSAnPHNwYW4gY2xhc3M9XCJqcy1ob3Zlci1hcnJvdyBuZXh0LWFycm93XCI+PC9zcGFuPidcblxuICAgICAgJGNvbnRhaW5lci5wcmVwZW5kKCRwcmV2SG92ZXJTcGFuKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKCRuZXh0SG92ZXJTcGFuKTtcblxuICAgICAgJGNvbnRhaW5lci5maW5kKCcucHJldi1hcnJvdycpLmNsaWNrKCAoKSA9PiB7ICQoJy5zbGljay1wcmV2JykuY2xpY2soKSB9KTtcbiAgICAgICRjb250YWluZXIuZmluZCgnLm5leHQtYXJyb3cnKS5jbGljayggKCkgPT4geyAkKCcuc2xpY2stbmV4dCcpLmNsaWNrKCkgfSk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlR2FsbGVyeSgpIHtcbiAgICB0aGlzLiRnYWxsZXJ5LmZpbmQoJy5qcy1nYWxsZXJ5LXNsaWRlcicpLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgdGhpcy4kZ2FsbGVyeS5yZW1vdmUoKTtcbiAgICB0aGlzLiRnYWxsZXJ5ID0gW107XG4gICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnanMtZ2FsbGVyeS1hY3RpdmUnKTtcbiAgICB0aGlzLnNjcm9sbExvY2suc2Nyb2xsUG9zaXRpb24oKTtcbiAgICB0aGlzLiR3aW5kb3cub2ZmKCdrZXlkb3duLmdhbGxlcnknKTtcbiAgfVxuXG4gIGVzY0dhbGxlcnkoZXZ0KSB7XG4gICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jbG9zZUdhbGxlcnkoKTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBcnRpY2xlR2FsbGVyeTtcbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi9oZWxwZXJzLmpzJztcblxuY2xhc3MgQXJ0aWNsZU5hdiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLiRib2R5ICAgICAgICAgICAgPSAkKCdib2R5Jyk7XG4gICAgdGhpcy4kYXJ0aWNsZUJvZHkgICAgID0gJCgnLmFydGljbGVfX3dyYXBwZXInKTtcbiAgICB0aGlzLiRwcm9nZXNzQmFyICAgICAgPSAkKCcuanMtLXByb2dyZXNzLWJhcicpO1xuICAgIHRoaXMuJHByb2dyZXNzSGlkZGVuICA9ICQoJy5qcy0tcHJvZ3Jlc3MtYmFyIHNwYW4nKTtcbiAgICB0aGlzLiRhcnRpY2xlTmF2ICAgICAgPSAkKCcuYXJ0aWNsZS1uYXYnKTtcbiAgICB0aGlzLiRoZWFkZXIgICAgICAgICAgPSAkKCcuaGVhZGVyJyk7XG5cbiAgICB0aGlzLmhlYWRlckhlaWdodCAgICAgPSAwO1xuICAgIHRoaXMuYXJ0aWNsZUhlaWdodCAgICA9IDA7XG4gICAgdGhpcy5hcnRpY2xlVG9wICAgICAgID0gMDtcblxuICAgIHRoaXMubGFzdFNjcm9sbCAgICAgICA9IDA7XG4gICAgdGhpcy5zY3JvbGxUb3AgICAgICAgID0gMDtcbiAgICB0aGlzLmRvY3VtZW50SGVpZ2h0ICAgPSAwO1xuICAgIHRoaXMud2luZG93V2lkdGggICAgICA9ICQod2luZG93KS53aWR0aCgpO1xuICAgIHRoaXMud2luZG93SGVpZ2h0ICAgICA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICB0aGlzLmRpcmVjdGlvbiAgICAgICAgPSAnJztcblxuICAgIHRoaXMuaGFzUmVjaXJjID0gZmFsc2U7XG5cbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICB0aGlzLnNldFRyYWNrZXJIZWlnaHQoKTtcbiAgfVxuXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCB0aHJvdHRsZS5iaW5kKHRoaXMsIHRoaXMub25TY3JvbGwpKTtcbiAgfVxuXG4gIG9uU2Nyb2xsKCkge1xuICAgIHRoaXMuc2Nyb2xsVG9wICAgICAgID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgIHRoaXMuZG9jdW1lbnRIZWlnaHQgID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG4gICAgdGhpcy53aW5kb3dXaWR0aCAgICAgPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICB0aGlzLndpbmRvd0hlaWdodCAgICA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICB0aGlzLmFydGljbGVIZWlnaHQgICA9IHRoaXMuJGFydGljbGVCb2R5LmhlaWdodCgpO1xuICAgIHRoaXMuYXJ0aWNsZVRvcCAgICAgID0gdGhpcy4kYXJ0aWNsZUJvZHkub2Zmc2V0KCkudG9wO1xuICAgIHRoaXMuaGVhZGVySGVpZ2h0ICAgID0gdGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCkgKiAyO1xuXG4gICAgdGhpcy5nZXRTY3JvbGxEaXJlY3Rpb24oKTtcbiAgICB0aGlzLmdldFNjcm9sbFByb2dyZXNzKCk7XG4gICAgdGhpcy50b2dnbGVOYXYoKTtcbiAgfVxuXG4gIHNldFRyYWNrZXJIZWlnaHQoKSB7XG4gICAgJCgnLmFydGljbGVfX3JlbGF0ZWQnKS5sZW5ndGggPyB0aGlzLmhhc1JlY2lyYyA9IHRydWUgOiB0aGlzLmhhc1JlY2lyYyA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0U2Nyb2xsUHJvZ3Jlc3MoKSB7XG4gICAgbGV0IGN1cnJlbnRZID0gdGhpcy5zY3JvbGxUb3AgLSB0aGlzLiRhcnRpY2xlQm9keS5vZmZzZXQoKS50b3AsXG4gICAgICAgIHNjcm9sbFBlcmNlbnQ7XG5cbiAgICBpZih0aGlzLmhhc1JlY2lyYykge1xuICAgICAgc2Nyb2xsUGVyY2VudCA9IHBhcnNlRmxvYXQoKGN1cnJlbnRZIC8gKHRoaXMuYXJ0aWNsZUhlaWdodCAtIHRoaXMud2luZG93SGVpZ2h0IC8gMikgKiAxMDApLnRvRml4ZWQoNCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxQZXJjZW50ID0gcGFyc2VGbG9hdCgoY3VycmVudFkgLyAodGhpcy5hcnRpY2xlSGVpZ2h0IC0gdGhpcy53aW5kb3dIZWlnaHQpICogMTAwKS50b0ZpeGVkKDQpKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLnNjcm9sbFRvcCA+IHRoaXMuYXJ0aWNsZVRvcCAmJiAodGhpcy5hcnRpY2xlVG9wICsgdGhpcy5hcnRpY2xlSGVpZ2h0KSA+IHRoaXMuc2Nyb2xsVG9wKSB7XG4gICAgICB0aGlzLiRwcm9nZXNzQmFyLmNzcyh7XG4gICAgICAgIHdpZHRoOiBgJHtzY3JvbGxQZXJjZW50fSVgXG4gICAgICB9KTtcbiAgICAgIHRoaXMuJHByb2dyZXNzSGlkZGVuLnRleHQoYCR7c2Nyb2xsUGVyY2VudH0lYCk7XG4gICAgfSBlbHNlIGlmKHRoaXMuc2Nyb2xsVG9wIDwgKHRoaXMuYXJ0aWNsZVRvcCAtIHRoaXMud2luZG93SGVpZ2h0IC8gMikpIHtcbiAgICAgIHRoaXMuJHByb2dlc3NCYXIuY3NzKHtcbiAgICAgICAgd2lkdGg6ICcwJSdcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZih0aGlzLnNjcm9sbFRvcCA+IHRoaXMuYXJ0aWNsZVRvcCkge1xuICAgICAgdGhpcy4kcHJvZ2Vzc0Jhci5jc3Moe1xuICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxEaXJlY3Rpb24oKSB7XG4gICAgbGV0IGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICBpZiAoY3VycmVudFNjcm9sbCA+IHRoaXMubGFzdFNjcm9sbCAmJiBjdXJyZW50U2Nyb2xsID49IDEpe1xuICAgICAgdGhpcy5kaXJlY3Rpb24gPSAnZG93bic7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPCB0aGlzLmxhc3RTY3JvbGwgJiYgY3VycmVudFNjcm9sbCA8PSAodGhpcy5kb2N1bWVudEhlaWdodCAtIHRoaXMud2luZG93SGVpZ2h0KSAtIDEpe1xuICAgICAgdGhpcy5kaXJlY3Rpb24gPSAndXAnO1xuICAgIH1cblxuICAgIHRoaXMubGFzdFNjcm9sbCA9IGN1cnJlbnRTY3JvbGw7XG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICB9XG5cbiAgdG9nZ2xlTmF2KCkge1xuICAgIGxldCB0cmFja2VyRW5kO1xuXG4gICAgaWYodGhpcy5oYXNSZWNpcmMpIHtcbiAgICAgIHRyYWNrZXJFbmQgPSB0aGlzLmFydGljbGVUb3AgKyAodGhpcy5hcnRpY2xlSGVpZ2h0IC0gdGhpcy53aW5kb3dIZWlnaHQgLyAyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2tlckVuZCA9IHRoaXMuYXJ0aWNsZVRvcCArICh0aGlzLmFydGljbGVIZWlnaHQgLSB0aGlzLndpbmRvd0hlaWdodCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5kaXJlY3Rpb24gPT0gJ2Rvd24nKSB7XG4gICAgICBpZih0aGlzLnNjcm9sbFRvcCA+ICh0aGlzLmhlYWRlckhlaWdodCkgJiYgKHRyYWNrZXJFbmQpID4gdGhpcy5zY3JvbGxUb3ApIHtcbiAgICAgICAgdGhpcy4kYm9keS5hZGRDbGFzcygnYXJ0aWNsZS1uYXYtLWlzLWluLXZpZXcnKTtcbiAgICAgICAgdGhpcy4kYm9keS5hZGRDbGFzcygnYm9yZGVyLS1ibHVlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdhcnRpY2xlLW5hdi0taXMtaW4tdmlldycpO1xuICAgICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdib3JkZXItLWJsdWUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnYXJ0aWNsZS1uYXYtLWlzLWluLXZpZXcnKTtcbiAgICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ2JvcmRlci0tYmx1ZScpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcnRpY2xlTmF2O1xuIiwiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuXG5jbGFzcyBBcnRpY2xlU2hhcmUge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHRoaXMuJHdpbmRvdyAgICAgICAgICAgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy5zZWxlY3RhYmxlU3RyaW5nID0gc2VsZWN0b3JcbiAgICB0aGlzLnNlbGVjdGFibGUgICAgICAgPSAkKHNlbGVjdG9yKTtcbiAgICB0aGlzLnNoYXJlVG9vbCAgICAgICAgPSAkKCcuanMtc2hhcmUtdG9vbCcpO1xuICAgIHRoaXMuc2hhcmVUb29sUG9zICAgICA9IHttaW5Ub3A6IHdpbmRvdy5pbm5lckhlaWdodCwgbWluTGVmdDogd2luZG93LmlubmVyV2lkdGgsIG1heFJpZ2h0OiAwLCBmaXJzdFNlbGVjdExpbmVMZWZ0OiBudWxsfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCB0aHJvdHRsZS5iaW5kKHRoaXMsIHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSkpO1xuICAgIHRoaXMuJHdpbmRvdy5vbignc2Nyb2xsJywgdGhyb3R0bGUuYmluZCh0aGlzLCB0aGlzLmhpZGVTaGFyZVRvb2wpKTtcbiAgfVxuXG4gIGdldFNlbGVjdGVkUmFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuJHdpbmRvdy53aWR0aCgpIDw9IDc2OCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2hhcmVUb29sLmZpbmQoJ2EnKS5vZmYoKTtcblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICB0aGlzLiR3aW5kb3cub25lKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldnQpe1xuICAgICAgaWYoISQoZXZ0LnRhcmdldCkucGFyZW50cygnLmpzLXNoYXJlLXRvb2wnKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5oaWRlU2hhcmVUb29sKCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLnJhbmdlQ291bnQgJiYgc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG5cbiAgICBpZiAoIXRoaXMuaXNTZWxlY3RhYmxlKHJhbmdlKSkge1xuICAgICAgdGhpcy5oaWRlU2hhcmVUb29sKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmRTaGFyZVRvb2wocmFuZ2UpO1xuICAgIHRoaXMuYXBwbHlTZWxlY3RlZFRleHQoc2VsZWN0aW9uKTtcbiAgfVxuXG4gIGFwcGx5U2VsZWN0ZWRUZXh0KHNlbGVjdGlvbikge1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIGxldCBlbmNvZGVkU2VsZWN0aW9uVGV4dCA9IGVuY29kZVVSSSggd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkgKTtcblxuICAgICAgdGhpcy5zaGFyZVRvb2wuZmluZCgnLmFydGljbGVfX3NvY2lhbC1saW5rLS10d2l0dGVyJykuYXR0cignaHJlZicsIGBodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PSR7ZW5jb2RlZFNlbGVjdGlvblRleHR9YCk7XG4gICAgfVxuICB9XG5cbiAgYXBwZW5kU2hhcmVUb29sKHJhbmdlKSB7XG4gICAgbGV0IGNsaWVudFJlY3RzID0gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICB0aGlzLnNoYXJlVG9vbFBvcyA9IHtcbiAgICAgIG1pblRvcDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgbWluTGVmdDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICBtYXhSaWdodDogMFxuICAgIH07XG5cbiAgICBPYmplY3Qua2V5cyhjbGllbnRSZWN0cykuZm9yRWFjaCggZnVuY3Rpb24oa2V5KSB7XG4gICAgICBsZXQgcmVjdCA9IGNsaWVudFJlY3RzW2tleV07XG5cbiAgICAgIGlmIChrZXkgPT09ICcwJykge1xuICAgICAgICB0aGlzLnNoYXJlVG9vbFBvcy5maXJzdFNlbGVjdExpbmVMZWZ0ID0gcmVjdC5sZWZ0XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2hhcmVUb29sUG9zLm1pblRvcCA9IE1hdGgubWluKCB0aGlzLnNoYXJlVG9vbFBvcy5taW5Ub3AsIHJlY3QudG9wKTtcbiAgICAgIHRoaXMuc2hhcmVUb29sUG9zLm1pbkxlZnQgPSBNYXRoLm1pbiggdGhpcy5zaGFyZVRvb2xQb3MubWluTGVmdCwgcmVjdC5sZWZ0KTtcbiAgICAgIHRoaXMuc2hhcmVUb29sUG9zLm1heFJpZ2h0ID0gTWF0aC5tYXgoIHRoaXMuc2hhcmVUb29sUG9zLm1heFJpZ2h0LCByZWN0LnJpZ2h0KTtcblxuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBtaWRQb2ludCA9ICh0aGlzLnNoYXJlVG9vbFBvcy5tYXhSaWdodC10aGlzLnNoYXJlVG9vbFBvcy5taW5MZWZ0KS8yICsgdGhpcy5zaGFyZVRvb2xQb3MubWluTGVmdDtcblxuICAgIGlmICggdGhpcy5zaGFyZVRvb2xQb3MuZmlyc3RTZWxlY3RMaW5lTGVmdCA+IG1pZFBvaW50ICkge1xuICAgICAgY29uc3Qgc2hhcmVUb29sV2lkdGggPSBwYXJzZUludCh0aGlzLnNoYXJlVG9vbC5jc3MoJ3dpZHRoJykpO1xuXG4gICAgICB0aGlzLnN0eWxlU2hhcmVUb29sKHRoaXMuc2hhcmVUb29sUG9zLm1pblRvcCwgdGhpcy5zaGFyZVRvb2xQb3MuZmlyc3RTZWxlY3RMaW5lTGVmdCArIHNoYXJlVG9vbFdpZHRoLzIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0eWxlU2hhcmVUb29sKHRoaXMuc2hhcmVUb29sUG9zLm1pblRvcCwgbWlkUG9pbnQpO1xuICAgIH1cbiAgfVxuXG4gIHN0eWxlU2hhcmVUb29sKG1pblRvcCwgbWlkUG9pbnQpIHtcbiAgICBjb25zdCBzaGFyZVRvb2xIZWlnaHQgPSB0aGlzLnNoYXJlVG9vbC5jc3MoJ2hlaWdodCcpO1xuICAgIGNvbnN0IHNoYXJlVG9vbFdpZHRoID0gdGhpcy5zaGFyZVRvb2wuY3NzKCd3aWR0aCcpO1xuXG4gICAgdGhpcy5zaGFyZVRvb2wuY3NzKHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogbWluVG9wIC0gcGFyc2VJbnQoc2hhcmVUb29sSGVpZ2h0KSxcbiAgICAgIGxlZnQ6IG1pZFBvaW50IC0gcGFyc2VJbnQoc2hhcmVUb29sV2lkdGgpLzJcbiAgICB9KVxuICB9XG5cbiAgaGlkZVNoYXJlVG9vbCgpIHtcbiAgICB0aGlzLnNoYXJlVG9vbC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9XG5cbiAgaXNTZWxlY3RhYmxlKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlICYmXG4gICAgIXJhbmdlLmNvbGxhcHNlZCAmJlxuICAgIHJhbmdlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICYmXG4gICAgJChyYW5nZS5zdGFydENvbnRhaW5lcikucGFyZW50cyh0aGlzLnNlbGVjdGFibGVTdHJpbmcpLmxlbmd0aCAmJlxuICAgICQocmFuZ2UuZW5kQ29udGFpbmVyKS5wYXJlbnRzKHRoaXMuc2VsZWN0YWJsZVN0cmluZykubGVuZ3RoO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZVNoYXJlO1xuIiwiY2xhc3MgRGF0ZVBpY2tlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICAkKCcuZGF0ZXBpY2tlcicpLmRhdGVwaWNrZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyO1xuIiwiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuXG5jbGFzcyBIZWFkZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJCgnYm9keScpO1xuICAgIHRoaXMuJHdpbmRvdyAgICAgICAgPSAkKCB3aW5kb3cgKTtcbiAgICB0aGlzLiRkb2N1bWVudCAgICAgID0gJCggZG9jdW1lbnQgKTtcbiAgICB0aGlzLiRoZWFkZXIgICAgICAgID0gJCgnLmhlYWRlcicpO1xuICAgIHRoaXMuJHNlYXJjaE92ZXJsYXkgPSAkKCcuc2VhcmNoLWJhcl9fb3ZlcmxheScpO1xuICAgIHRoaXMuJG1lbnVCdXR0b24gICAgPSAkKCcuanMtbWVudS10b2dnbGUnKTtcbiAgICB0aGlzLiRtZW51TGlua3MgICAgID0gJCgnLm1lbnVfX292ZXJsYXknKS5maW5kKCdhLCBidXR0b24nKTtcbiAgICB0aGlzLiRzZWFyY2hUb2dnbGUgID0gJCgnLmpzLXNlYXJjaC1iYXItdG9nZ2xlJyk7XG4gICAgdGhpcy4kc2VhcmNoQnV0dG9uICA9ICQoJy5qcy1zZWFyY2gtYmFyLWJ1dHRvbicpO1xuICAgIHRoaXMuJHNlYXJjaElucHV0ICAgPSAkKCcuanMtc2VhcmNoLWJhci1pbnB1dCcpO1xuICAgIHRoaXMuJHNlYXJjaFRleHQgICAgPSAkKCcuanMtc2VhcmNoLXRleHQnKTtcbiAgICB0aGlzLnNjcm9sbEl0ZW1zICAgID0gJCgnLm1lbnVfX21haW4tbmF2LXdyYXBwZXIsIC5sLXNpdGUtbmF2X19ldmVudHMnKTtcbiAgICB0aGlzLmhlYWRlckhlaWdodCAgID0gdGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCk7XG4gICAgdGhpcy5sYXN0U2Nyb2xsICAgICA9IDA7XG4gICAgdGhpcy5zY3JvbGxUb3AgICAgICA9IDA7XG4gICAgdGhpcy5kb2N1bWVudEhlaWdodCA9IDA7XG4gICAgdGhpcy53aW5kb3dXaWR0aCAgICA9IDA7XG4gICAgdGhpcy53aW5kb3dIZWlnaHQgICA9IDA7XG4gICAgdGhpcy5kaXJlY3Rpb24gICAgICA9ICcnO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuZGVhY3RpdmF0ZUhpZGRlbkZvY3VzKCk7XG4gICAgdGhpcy50cmFwTWVudUZvY3VzKCk7XG5cbiAgICB0aGlzLiRtZW51QnV0dG9uLmNsaWNrKCB0aGlzLnRvZ2dsZU1lbnUuYmluZCh0aGlzKSApO1xuICAgIHRoaXMuJHNlYXJjaE92ZXJsYXkuY2xpY2soIHRoaXMudG9nZ2xlU2VhcmNoQmFyLmJpbmQodGhpcykgKTtcbiAgICB0aGlzLiRzZWFyY2hUb2dnbGUuY2xpY2soIHRoaXMudG9nZ2xlU2VhcmNoQmFyLmJpbmQodGhpcykgKTtcbiAgICB0aGlzLiRzZWFyY2hCdXR0b24uY2xpY2soIHRoaXMuc2VhcmNoUmVkaXJlY3QuYmluZCh0aGlzKSApO1xuICAgIHRoaXMuJHdpbmRvdy5vbignc2Nyb2xsJywgdGhyb3R0bGUuYmluZCh0aGlzLCB0aGlzLm9uU2Nyb2xsKSApO1xuXG4gICAgdGhpcy5zaG93SGVhZGVyKCk7XG4gIH1cblxuICB0b2dnbGVNZW51KGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKCF0aGlzLiRib2R5Lmhhc0NsYXNzKCdqcy1tZW51LW9wZW4nKSAmJiB0aGlzLiR3aW5kb3cud2lkdGgoKSA+PSA3NjgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsSXRlbXMuc2Nyb2xsVG9wKDApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLiRib2R5Lmhhc0NsYXNzKCdqcy1tZW51LW9wZW4nKSkge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlTWVudUZvY3VzKCk7XG4gICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdqcy1tZW51LW9wZW4nKTtcbiAgICAgIHRoaXMuJHdpbmRvdy5vZmYoJ2tleWRvd24ubWVudScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2YXRlTWVudUZvY3VzKCk7XG4gICAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdqcy1tZW51LW9wZW4nKTtcbiAgICAgIHRoaXMuJHdpbmRvdy5vbigna2V5ZG93bi5tZW51JywgdGhpcy5lc2NNZW51LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIGVzY01lbnUoZXZ0KSB7XG4gICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5kZWFjdGl2YXRlTWVudUZvY3VzKCk7XG4gICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdqcy1tZW51LW9wZW4nKTtcbiAgICB9XG4gIH1cblxuICBkZWFjdGl2YXRlSGlkZGVuRm9jdXMoKSB7XG4gICAgdGhpcy5kZWFjdGl2YXRlTWVudUZvY3VzKCk7XG4gICAgJCgnLmhlYWRlci1jb25kZW5zZWQnKS5maW5kKCdhLCBpbnB1dCwgYnV0dG9uJykuYXR0cigndGFiaW5kZXgnLCctMScpO1xuICAgICQoJy5zZWFyY2gtYmFyJykuZmluZCgnYSwgaW5wdXQsIGJ1dHRvbicpLmF0dHIoJ3RhYmluZGV4JywnLTEnKTtcbiAgfVxuXG4gIGRlYWN0aXZhdGVNZW51Rm9jdXMoKSB7XG4gICAgJCgnLm1lbnVfX292ZXJsYXkgLm1lbnVfX2Nsb3NlJykuYXR0cigndGFiaW5kZXgnLCctMScpO1xuICAgIHRoaXMuJG1lbnVMaW5rcy5hdHRyKCd0YWJpbmRleCcsJy0xJyk7XG4gIH1cblxuICBhY3RpdmF0ZU1lbnVGb2N1cygpIHtcbiAgICAkKCcubWVudV9fb3ZlcmxheScpLmF0dHIoJ3RhYmluZGV4JywnMCcpLmZvY3VzKCk7XG4gICAgdGhpcy4kbWVudUxpbmtzLmF0dHIoJ3RhYmluZGV4JywnMCcpO1xuICB9XG5cbiAgdHJhcE1lbnVGb2N1cygpIHtcbiAgICBsZXQgbGFzdFRhYmJhYmxlID0gdGhpcy4kbWVudUxpbmtzLmxhc3QoKTtcbiAgICBsZXQgZmlyc3RUYWJiYWJsZSA9IHRoaXMuJG1lbnVMaW5rcy5maXJzdCgpO1xuXG4gICAgbGFzdFRhYmJhYmxlLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS53aGljaCA9PT0gOSAmJiAhZS5zaGlmdEtleSkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmaXJzdFRhYmJhYmxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmaXJzdFRhYmJhYmxlLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS53aGljaCA9PT0gOSAmJiBlLnNoaWZ0S2V5KSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3RUYWJiYWJsZS5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlU2VhcmNoQmFyKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHRoaXMuJGJvZHkuaGFzQ2xhc3MoJ2pzLXNlYXJjaC1vcGVuJykpIHtcbiAgICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ2pzLXNlYXJjaC1vcGVuJyk7XG4gICAgICAkKCcuc2VhcmNoLWJhcicpLmZpbmQoJ2EsIGlucHV0LCBidXR0b24nKS5hdHRyKCd0YWJpbmRleCcsJy0xJyk7XG4gICAgICB0aGlzLiR3aW5kb3cub2ZmKCdrZXlkb3duLnNlYXJjaCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdqcy1zZWFyY2gtb3BlbicpO1xuICAgICAgdGhpcy5mb2N1c1NlYXJjaCgpO1xuICAgICAgJCgnLnNlYXJjaC1iYXInKS5maW5kKCdhLCBpbnB1dCwgYnV0dG9uJykuYXR0cigndGFiaW5kZXgnLCcwJyk7XG4gICAgICB0aGlzLiR3aW5kb3cub24oJ2tleWRvd24uc2VhcmNoJywgdGhpcy5lc2NTZWFyY2guYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdGhpcy50b2dnbGVTZWFyY2hUZXh0KCk7XG4gIH1cblxuICBlc2NTZWFyY2goZXZ0KSB7XG4gICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnanMtc2VhcmNoLW9wZW4nKTtcbiAgICAgIHRoaXMudG9nZ2xlU2VhcmNoVGV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIGZvY3VzU2VhcmNoKCkge1xuICAgIGlmICh0aGlzLiRib2R5Lmhhc0NsYXNzKCdqcy1oZWFkZXItaW4tdmlldycpICYmIE1vZGVybml6ci5tb2JpbGVzYWZhcmkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnNlYXJjaC1iYXItLW1haW4nKS5maW5kKCcuanMtc2VhcmNoLWJhci1pbnB1dCcpLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlU2VhcmNoVGV4dCgpIHtcbiAgICBpZiAodGhpcy4kYm9keS5oYXNDbGFzcygnanMtc2VhcmNoLW9wZW4nKSkge1xuICAgICAgdGhpcy4kc2VhcmNoVGV4dC50ZXh0KCdDbG9zZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRzZWFyY2hUZXh0LnRleHQoJ1NlYXJjaCcpO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaFJlZGlyZWN0KGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuJHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9zZWFyY2gvP3Rlcm09JHsgdGhpcy4kc2VhcmNoSW5wdXQudmFsKCkgfWApO1xuICB9XG5cbiAgb25TY3JvbGwoKSB7XG4gICAgdGhpcy5zY3JvbGxUb3AgICAgICAgPSB0aGlzLiR3aW5kb3cuc2Nyb2xsVG9wKCk7XG4gICAgdGhpcy5kb2N1bWVudEhlaWdodCAgPSB0aGlzLiRkb2N1bWVudC5oZWlnaHQoKTtcbiAgICB0aGlzLndpbmRvd1dpZHRoICAgICA9IHRoaXMuJHdpbmRvdy53aWR0aCgpO1xuICAgIHRoaXMud2luZG93SGVpZ2h0ICAgID0gdGhpcy4kd2luZG93LmhlaWdodCgpO1xuICAgIHRoaXMuaGVhZGVySGVpZ2h0ICAgID0gdGhpcy4kaGVhZGVyLm91dGVySGVpZ2h0KCk7XG5cbiAgICB0aGlzLmdldFNjcm9sbERpcmVjdGlvbigpO1xuICAgIHRoaXMuc2hvd0hlYWRlcigpO1xuICAgIHRoaXMuY2xvc2VTZWFyY2goKTtcbiAgfVxuXG4gIGdldFNjcm9sbERpcmVjdGlvbigpIHtcbiAgICBsZXQgY3VycmVudFNjcm9sbCA9IHRoaXMuJHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgIGlmIChjdXJyZW50U2Nyb2xsID4gdGhpcy5sYXN0U2Nyb2xsICYmIGN1cnJlbnRTY3JvbGwgPj0gMSkge1xuICAgICAgdGhpcy5kaXJlY3Rpb24gPSAnZG93bic7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPCB0aGlzLmxhc3RTY3JvbGwgJiYgY3VycmVudFNjcm9sbCA8PSAodGhpcy5kb2N1bWVudEhlaWdodCAtIHRoaXMud2luZG93SGVpZ2h0KSAtIDEpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3VwJztcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RTY3JvbGwgPSBjdXJyZW50U2Nyb2xsO1xuICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbjtcbiAgfVxuXG4gIHNob3dIZWFkZXIoKSB7XG4gICAgaWYgKHRoaXMuJHdpbmRvdy53aWR0aCgpID49IDc2OCkge1xuICAgICAgaWYgKHRoaXMuJHdpbmRvdy5zY3JvbGxUb3AoKSA8PSAodGhpcy5oZWFkZXJIZWlnaHQgKiAyKSkge1xuICAgICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdqcy1oZWFkZXItaW4tdmlldycpO1xuICAgICAgICAkKCcuaGVhZGVyLWNvbmRlbnNlZCcpLmZpbmQoJ2EsIGlucHV0LCBidXR0b24nKS5hdHRyKCd0YWJpbmRleCcsJy0xJyk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ2pzLWhlYWRlci1pbi12aWV3Jyk7XG4gICAgICAgICQoJy5oZWFkZXItY29uZGVuc2VkJykuZmluZCgnYSwgaW5wdXQsIGJ1dHRvbicpLmF0dHIoJ3RhYmluZGV4JywnMCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsb3NlU2VhcmNoKCkge1xuICAgIGlmICghTW9kZXJuaXpyLm1vYmlsZXNhZmFyaSkge1xuICAgICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnanMtc2VhcmNoLW9wZW4nKTtcbiAgICAgIHRoaXMudG9nZ2xlU2VhcmNoVGV4dCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJmdW5jdGlvbiB0aHJvdHRsZShmdW5jKSB7XG4gIGlmICh0aGlzLnRpY2tpbmcpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCAoKSA9PiB7XG4gICAgICBmdW5jLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICB0aGlzLnRpY2tpbmcgPSB0cnVlO1xufVxuXG5leHBvcnQgeyB0aHJvdHRsZSB9O1xuIiwiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuXG5jbGFzcyBJbmZpbml0ZVNjcm9sbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29udGFpbmVyICAgICA9ICQoJy5qcy1pbmZpbml0ZS1zY3JvbGwnKTtcbiAgICB0aGlzLnNjcm9sbFRyaWdnZXIgPSAwLjgwO1xuICAgIHRoaXMuaXNMb2FkaW5nICAgICA9IGZhbHNlO1xuICAgIHRoaXMubGFzdFBhZ2UgICAgICA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgICQod2luZG93KS5vbignc2Nyb2xsJywgdGhyb3R0bGUuYmluZCh0aGlzLCB0aGlzLm9uU2Nyb2xsKSk7XG4gIH1cblxuICBvblNjcm9sbCgpIHtcbiAgICBsZXQgc2Nyb2xsVG9wICAgICAgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgbGV0IGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG4gICAgbGV0IHdpbmRvd0hlaWdodCAgID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgaWYgKChzY3JvbGxUb3AgLyAoZG9jdW1lbnRIZWlnaHQgLSB3aW5kb3dIZWlnaHQpKSA+IHRoaXMuc2Nyb2xsVHJpZ2dlcikge1xuXG4gICAgICBpZiAodGhpcy5sYXN0UGFnZSA9PT0gZmFsc2UgJiYgdGhpcy5pc0xvYWRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuc2ltdWxhdGVBamF4Q2FsbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNpbXVsYXRlQWpheENhbGwoKSB7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCdqcy1sb2FkaW5nJyk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwianMtbG9hZGluZy1tZXNzYWdlXCI+PHAgY2xhc3M9XCJqcy1sb2FkaW5nLW1lc3NhZ2UtdGV4dFwiPkxvYWRpbmcgbW9yZSBzdG9yaWVzLi4uPC9wPjwvZGl2PicpXG5cbiAgICBpZiAoJCgnLmluc2lkZS1wZW5uLWFydGljbGVfX2l0ZW0nKS5sZW5ndGggPiAzMCkge1xuICAgICAgdGhpcy5sYXN0UGFnZSA9IHRydWU7XG4gICAgfVxuICAgIC8vIHRvIHNob3cgdGhlIGxvYWRpbmcgZWZmZWN0XG4gICAgc2V0VGltZW91dCggdGhpcy5hZGRNb3JlRWxlbWVudHMuYmluZCh0aGlzKSwgMTUwMCApO1xuICB9XG5cbiAgYWRkTW9yZUVsZW1lbnRzKCkge1xuICAgIGxldCBleGFtcGxlQ29udGVudCA9IFtcbiAgICAnPGxpIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9faXRlbVwiPjxhcnRpY2xlIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fY29udGVudFwiPjxkaXYgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19pbWFnZVwiPjxpbWcgc3JjPVwiL3N0YXRpYy9pbWcvaW5zaWRlLXBlbm4taW1hZ2VzL2d1dHRtYW4temhlbmcuanBnXCIgYWx0PVwiQW1iYXNzYWRvciBaaGFuZyBRaXl1ZSBzcGVha2luZyB0byBQcmVzaWRlbnQgQW15IEd1dG1hbm4gYXQgYSB0YWJsZS5cIj48L2Rpdj48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2RhdGVcIj5KdWx5IDI4LCAyMDE2PC9wPjxoMiBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2hlYWRcIj48YSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2xpbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cuZmxpY2tyLmNvbS9waG90b3MvdW5pdmVyc2l0eW9mcGVubnN5bHZhbmlhL3NldHMvNzIxNTc2NzE2Mzk2MDgyMTVcIiB0YXJnZXQ9XCJfYmxhbmtcIj5HdXRtYW5uIFdlbGNvbWVzIENoaW5lc2UgRGlnbml0YXJpZXMgdG8gUGVubjwvYT48L2gyPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc3VtbWFyeVwiPk9uIEp1bHkgMjcsIFByZXNpZGVudCBBbXkgR3V0bWFubiBob3N0ZWQgQW1iYXNzYWRvciBaaGFuZyBRaXl1ZSwgY29uc3VsIGdlbmVyYWwgb2YgdGhlIFBlb3BsZeKAmXMgUmVwdWJsaWMgb2YgQ2hpbmEgaW4gTmV3IFlvcmssIGFuZCBFZHVjYXRpb24gQ291bnNlbG9yIFh1IFlvbmdqaSB0byB0aGUgVW5pdmVyc2l0eSBvZiBQZW5uc3lsdmFuaWEuIFRoZXkgZGlzY3Vzc2VkIHRoZSBpbXBvcnRhbmNlIG9mIFUuUy4tQ2hpbmEgY29sbGFib3JhdGlvbiBhbmQgZXNwZWNpYWxseSB0aGUgY3JpdGljYWwgcm9sZSBlZHVjYXRpb24gcGxheXMgaW4gcmVsYXRpb25zIGJldHdlZW4gdGhlIHR3byBjb3VudHJpZXMuPC9wPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc291cmNlXCI+RnVsbCBzdG9yeSBhdCA8YSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3NvdXJjZS1saW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LmZsaWNrci5jb20vcGhvdG9zL3VuaXZlcnNpdHlvZnBlbm5zeWx2YW5pYS9zZXRzLzcyMTU3NjcxNjM5NjA4MjE1XCIgdGFyZ2V0PVwiX2JsYW5rXCI+UGVubiBGbGlja3I8L2E+PC9wPjwvYXJ0aWNsZT48L2xpPicsXG4gICAgJzxsaSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2l0ZW1cIj48YXJ0aWNsZSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2NvbnRlbnRcIj48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2RhdGVcIj5EZWNlbWJlciAyMCwgMjAxNjwvcD48aDIgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19oZWFkXCI+PGEgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19saW5rXCIgaHJlZj1cImh0dHA6Ly93d3cuYW5uZW5iZXJncHVibGljcG9saWN5Y2VudGVyLm9yZy9qb3VybmFsaXN0LWFuZHJldy1yb3NlbnRoYWwtam9pbnMtYXBwYy1hcy1wcm9mZXNzaW9uYWwtaW4tcmVzaWRlbmNlL1wiIHRhcmdldD1cIl9ibGFua1wiPkFuZHJldyBSb3NlbnRoYWwgSm9pbnMgQVBQQyBhcyBQcm9mZXNzaW9uYWwgaW4gUmVzaWRlbmNlPC9hPjwvaDI+PHAgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19zdW1tYXJ5XCI+QW5kcmV3IFJvc2VudGhhbCwgYW4gb3AtZWQgY29sdW1uaXN0IGFuZCBmb3JtZXIgZWRpdG9yIGFuZCBjb3JyZXNwb25kZW50IGZvciBUaGUgTmV3IFlvcmsgVGltZXMsIGhhcyBqb2luZWQgdGhlIEFubmVuYmVyZyBQdWJsaWMgUG9saWN5IENlbnRlciBmb3IgdGhlIDIwMTcgc3ByaW5nIHNlbWVzdGVyIGFzIGEgcHJvZmVzc2lvbmFsIGluIHJlc2lkZW5jZS4gSGXigJlsbCBiZSB3cml0aW5nIGEgbWVtb2lyIGFib3V0IGhpcyBsaWZlIGluIGpvdXJuYWxpc20sIGZyb20gdGhlIHByZS1pbnRlcm5ldCBlcmEgdG8gdG9kYXkuPC9wPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc291cmNlXCI+RnVsbCBzdG9yeSBhdCA8YSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3NvdXJjZS1saW5rXCIgaHJlZj1cImh0dHA6Ly93d3cuYW5uZW5iZXJncHVibGljcG9saWN5Y2VudGVyLm9yZy9qb3VybmFsaXN0LWFuZHJldy1yb3NlbnRoYWwtam9pbnMtYXBwYy1hcy1wcm9mZXNzaW9uYWwtaW4tcmVzaWRlbmNlL1wiIHRhcmdldD1cIl9ibGFua1wiPkFubmVuYmVyZyBQb2xpY3kgQ2VudGVyIOKGkjwvYT48L3A+PC9saT4nLFxuICAgICc8bGkgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19pdGVtXCI+PGFydGljbGUgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19jb250ZW50XCI+PGRpdiBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2ltYWdlXCI+PGltZyBzcmM9XCJodHRwOi8vc3BvcnRzbGFicy13ZWJwcm94eS5pbWdpeC5uZXQvaHR0cCUzQSUyRiUyRnN0YXRpYy5zaWx2ZXJjaGFsaWNlLmNvJTJGcGVubi1wcm9kJTJGMjAxNyUyRjAzJTJGMDUlMkYxNDg4NzUwNzk1NjAxLXJlZWhhbV9hbmRfbWFyaWUuanBnP2ZpdD1jbGlwJmFtcDtoPTEwNjUmYW1wO3c9MTYwMCZhbXA7cz03ZTFiMzNiYmZhMzNmMzFlNTU2ZTY5MzI5ZmQ5ZjhjMVwiIGFsdD1cIlwiPjwvZGl2PjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fZGF0ZVwiPk1hcmNoIDYsIDIwMTc8L3A+PGgyIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9faGVhZFwiPjxhIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fbGlua1wiIGhyZWY9XCJodHRwOi8vd3d3LnBlbm5hdGhsZXRpY3MuY29tL25ld3Mvc2FsYWgtYW5kLXN0ZXBoYW4tZWFybi1hbGwtYW1lcmljYS1ob25vcnMtZm9yLXdvbWVuLXMtc3F1YXNoLTAzLTA1LTIwMTdcIiB0YXJnZXQ9XCJfYmxhbmtcIj5TYWxhaCBhbmQgU3RlcGhhbiBFYXJuIEFsbC1BbWVyaWNhIEhvbm9ycyBmb3IgV29tZW5cXCdzIFNxdWFzaDwvYT48L2gyPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc3VtbWFyeVwiPlNhbGFoLCB3aG8gaXMgYSBmaXJzdC10ZWFtIEFsbC1BbWVyaWNhIGZvciBhIHNlY29uZC1zdHJhaWdodCBzZWFzb24sIHJhdHRsZWQgb2ZmIHRocmVlIHZpY3RvcmllcyBiZWZvcmUgZmFsbGluZyBpbiB0aGUgY2hhbXBpb25zaGlwIG1hdGNoLiBUaGUgc29waG9tb3JlIGJlZ2FuIGhlciBydW4gb24gRnJpZGF5IHdpdGggYSAzLTAgd2luIG92ZXIgU3RhbmZvcmTigJlzIENhc2V5IFdvbmcuIFNoZSBmb2xsb3dlZCB3aXRoIHN3ZWVwcyBvdmVyIEplbm55IFNjaGVybCBvZiBZYWxlIGFuZCBLYXlsZXkgTGVvbmFyZCBvZiBIYXJ2YXJkIG9uIFNhdHVyZGF5LiBTdGVwaGFuIHBvc3RlZCBhIHBhaXIgb2YgdmljdG9yaWVzIGJlZm9yZSBhbHNvIGRyb3BwaW5nIGEgbWF0Y2h1cCB0byBLZW5uZWR5IGluIHRoZSBzZW1pZmluYWxzLiBTdGVwaGFuIGhhZCB0byBjb21lYmFjayBmcm9tIHR3byBzZXRzIGRvd24gdG8gZGVmZWF0IFRyaW5pdHnigJlzIFNhbG1hIEFsYW0gRWxkaW4gaW4gdGhlIGZpcnN0IHJvdW5kIGJlZm9yZSB0YWxseWluZyBhIDMtMCB3aW4gb3ZlciB0aGUgQmFudGFtc+KAmSBSYW5lZW0gU2hhcmFmLjwvcD48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3NvdXJjZVwiPkZ1bGwgc3RvcnkgYXQgPGEgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19zb3VyY2UtbGlua1wiIGhyZWY9XCJodHRwOi8vd3d3LnBlbm5hdGhsZXRpY3MuY29tL25ld3Mvc2FsYWgtYW5kLXN0ZXBoYW4tZWFybi1hbGwtYW1lcmljYS1ob25vcnMtZm9yLXdvbWVuLXMtc3F1YXNoLTAzLTA1LTIwMTdcIiB0YXJnZXQ9XCJfYmxhbmtcIj5QZW5uIEF0aGxldGljcyDihpI8L2E+PC9wPjwvYXJ0aWNsZT48L2xpPicsXG4gICAgJzxsaSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2l0ZW1cIj48YXJ0aWNsZSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2NvbnRlbnRcIj48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX2RhdGVcIj5GZWJydWFyeSAxMywgMjAxNzwvcD48aDIgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19oZWFkXCI+PGEgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19saW5rXCIgaHJlZj1cImh0dHA6Ly93d3cucGVubmF0aGxldGljcy5jb20vbmV3cy9oYXRsZXItcnVucy1zdWItZm91ci1taW51dGUtbWlsZS1tZW4tcy1kbXItd2lucy1hdC1taWxscm9zZS1nYW1lcy0wMi0xMi0yMDE3XCIgdGFyZ2V0PVwiX2JsYW5rXCI+SGF0bGVyIFJ1bnMgU3ViLUZvdXItTWludXRlIE1pbGUsIE1lblxcJ3MgRE1SIFdpbnMgYXQgTWlsbHJvc2UgR2FtZXM8L2E+PC9oMj48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3N1bW1hcnlcIj5BdCB0aGUgTWlsbHJvc2UgR2FtZXMgaW4gTmV3IFlvcmssIHNlbmlvciBDaHJpcyBIYXRsZXIgYmVjYW1lIGp1c3QgdGhlIHNlY29uZCBRdWFrZXIgZXZlciB0byBydW4gYSBzdWItZm91ciBtaW51dGUgbWlsZS4gVGhlIERNUiB0ZWFtIG9mIEVsaWFzIEdyYWNhLCBDYWx2YXJ5IFJvZ2VycywgSmVmZiBXaXNlbWFuIGFuZCBSb3NzIFdpbHNvbiB0b29rIGhvbWUgZmlyc3QgcGxhY2UuPC9wPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc291cmNlXCI+RnVsbCBzdG9yeSBhdCA8YSBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3NvdXJjZS1saW5rXCIgaHJlZj1cImh0dHA6Ly93d3cucGVubmF0aGxldGljcy5jb20vbmV3cy9oYXRsZXItcnVucy1zdWItZm91ci1taW51dGUtbWlsZS1tZW4tcy1kbXItd2lucy1hdC1taWxscm9zZS1nYW1lcy0wMi0xMi0yMDE3XCIgdGFyZ2V0PVwiX2JsYW5rXCI+UGVubiBBdGhsZXRpY3Mg4oaSPC9hPjwvcD48L2FydGljbGU+PC9saT4nLFxuICAgICc8bGkgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19pdGVtXCI+PGFydGljbGUgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19jb250ZW50XCI+PHAgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19kYXRlXCI+RGVjZW1iZXIgMjAsIDIwMTY8L3A+PGgyIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9faGVhZFwiPjxhIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fbGlua1wiIGhyZWY9XCJodHRwOi8vd3d3LmFubmVuYmVyZ3B1YmxpY3BvbGljeWNlbnRlci5vcmcvam91cm5hbGlzdC1hbmRyZXctcm9zZW50aGFsLWpvaW5zLWFwcGMtYXMtcHJvZmVzc2lvbmFsLWluLXJlc2lkZW5jZS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5BbmRyZXcgUm9zZW50aGFsIEpvaW5zIEFQUEMgYXMgUHJvZmVzc2lvbmFsIGluIFJlc2lkZW5jZTwvYT48L2gyPjxwIGNsYXNzPVwiaW5zaWRlLXBlbm4tYXJ0aWNsZV9fc3VtbWFyeVwiPkFuZHJldyBSb3NlbnRoYWwsIGFuIG9wLWVkIGNvbHVtbmlzdCBhbmQgZm9ybWVyIGVkaXRvciBhbmQgY29ycmVzcG9uZGVudCBmb3IgVGhlIE5ldyBZb3JrIFRpbWVzLCBoYXMgam9pbmVkIHRoZSBBbm5lbmJlcmcgUHVibGljIFBvbGljeSBDZW50ZXIgZm9yIHRoZSAyMDE3IHNwcmluZyBzZW1lc3RlciBhcyBhIHByb2Zlc3Npb25hbCBpbiByZXNpZGVuY2UuIEhl4oCZbGwgYmUgd3JpdGluZyBhIG1lbW9pciBhYm91dCBoaXMgbGlmZSBpbiBqb3VybmFsaXNtLCBmcm9tIHRoZSBwcmUtaW50ZXJuZXQgZXJhIHRvIHRvZGF5LjwvcD48cCBjbGFzcz1cImluc2lkZS1wZW5uLWFydGljbGVfX3NvdXJjZVwiPkZ1bGwgc3RvcnkgYXQgPGEgY2xhc3M9XCJpbnNpZGUtcGVubi1hcnRpY2xlX19zb3VyY2UtbGlua1wiIGhyZWY9XCJodHRwOi8vd3d3LmFubmVuYmVyZ3B1YmxpY3BvbGljeWNlbnRlci5vcmcvam91cm5hbGlzdC1hbmRyZXctcm9zZW50aGFsLWpvaW5zLWFwcGMtYXMtcHJvZmVzc2lvbmFsLWluLXJlc2lkZW5jZS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5Bbm5lbmJlcmcgUG9saWN5IENlbnRlciDihpI8L2E+PC9wPjwvYXJ0aWNsZT48L2xpPidcbiAgICBdXG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoZXhhbXBsZUNvbnRlbnQpO1xuXG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2pzLWxvYWRpbmcnKTtcbiAgICAkKCcuanMtbG9hZGluZy1tZXNzYWdlJykucmVtb3ZlKCk7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZmluaXRlU2Nyb2xsO1xuIiwiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuXG5jbGFzcyBJbnNpZGVQZW5uU2Nyb2xsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYWdlSGVpZ2h0ICAgPSAkKGRvY3VtZW50KS5oZWlnaHQoKTtcbiAgICB0aGlzLiR3aW5kb3cgICAgICA9ICQod2luZG93KTtcbiAgICB0aGlzLmZpeGVkQ29udGVudCA9ICQoJy5qcy1maXhlZC1jb250ZW50Jyk7XG4gICAgdGhpcy5mb290ZXIgICAgICAgPSAkKCcuZm9vdGVyJyk7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy4kd2luZG93Lm9uKCdzY3JvbGwnLCB0aHJvdHRsZS5iaW5kKHRoaXMsIHRoaXMuc3RpY2tFbGVtZW50KSk7XG4gIH1cblxuICBzdGlja0VsZW1lbnQoY29udGFpbmVySGVpZ2h0KSB7XG4gICAgbGV0IGZvb3Rlck9mZnNldCA9IHRoaXMuZm9vdGVyLm9mZnNldCgpLnRvcDtcblxuICAgIGlmICgoZm9vdGVyT2Zmc2V0IC0gdGhpcy4kd2luZG93LmhlaWdodCgpKSA8IHRoaXMuJHdpbmRvdy5zY3JvbGxUb3AoKSkge1xuICAgICAgdGhpcy5maXhlZENvbnRlbnQuYWRkQ2xhc3MoJ2pzLXN0aWNrJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZml4ZWRDb250ZW50LnJlbW92ZUNsYXNzKCdqcy1zdGljaycpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnNpZGVQZW5uU2Nyb2xsO1xuIiwiY2xhc3MgTW9kZXJuaXpyRGV0ZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuZGV0ZWN0TW9iaWxlU2FmYXJpKCk7XG4gICAgdGhpcy5kZXRlY3RXaW5kb3dzRmlyZWZveCgpO1xuICAgIHRoaXMuZGV0ZWN0SUUxMSgpO1xuICB9XG5cbiAgZGV0ZWN0TW9iaWxlU2FmYXJpKCkge1xuICAgIE1vZGVybml6ci5hZGRUZXN0KCdtb2JpbGVzYWZhcmknLCAoKSA9PiB7XG4gICAgICByZXR1cm4gL2lQKGFkfGhvbmV8b2QpLitWZXJzaW9uXFwvW1xcZFxcLl0rLipTYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZGV0ZWN0V2luZG93c0ZpcmVmb3goKSB7XG4gICAgTW9kZXJuaXpyLmFkZFRlc3QoJ3dpbmRvd3NmaXJlZm94JywgKCkgPT4ge1xuICAgICAgcmV0dXJuIC9XaW5kb3dzLitGaXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRldGVjdElFMTEoKSB7XG4gICAgTW9kZXJuaXpyLmFkZFRlc3QoJ2llMTEnLCAoKSA9PiB7XG4gICAgICByZXR1cm4gL1RyaWRlbnQuKnJ2OjExXFwuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9KVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNb2Rlcm5penJEZXRlY3Q7XG4iLCJjbGFzcyBOZXdzbGV0dGVyIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLiRuZXdzbGV0dGVyRm9ybSA9ICQoJyNuZXdzbGV0dGVyLWZvcm0nKTtcbiAgICB0aGlzLiRlbWFpbEZpZWxkICAgICA9ICQoJy5uZXdzbGV0dGVyLWZvcm1fX2VtYWlsJyk7XG4gICAgdGhpcy4kc3VibWl0QnV0dG9uICAgPSAkKCcubmV3c2xldHRlci1mb3JtX19zdWJtaXQnKTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLiRlbWFpbEZpZWxkLm9uKCdpbnB1dCcsIHRoaXMuaW5wdXRPbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLiRlbWFpbEZpZWxkLm9uKCdjbGljaycsIHRoaXMuY2xlYXJJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLiRuZXdzbGV0dGVyRm9ybS5vbignc3VibWl0JywgdGhpcy5uZXdzbGV0dGVyT25TdWJtaXQuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvLyAgU3VibWlzc2lvblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBuZXdzbGV0dGVyT25TdWJtaXQoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAodGhpcy52YWxpZGF0ZUVtYWlsKCkpIHtcbiAgICAgIC8vYmVmb3JlIHNlbmQgc28geW91IGNhbid0IHN1Ym1pdCBtb3JlIHRoYW4gb25jZVxuICAgICAgdGhpcy5vbkJlZm9yZVNlbmQoKTtcbiAgICAgIC8vIHNlbmQgZW1haWxcbiAgICAgIHRoaXMub25TdWNjZXNzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJG5ld3NsZXR0ZXJGb3JtLmFkZENsYXNzKCdqcy1oYXMtZXJyb3InKTtcbiAgICAgIHRoaXMub25FcnJvcignUGxlYXNlIGlucHV0IGEgdmFsaWQgZW1haWwnKTtcbiAgICB9XG4gIH1cblxuICAvLyAgVmFsaWRhdGlvblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YWxpZGF0ZUVtYWlsKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuJGVtYWlsRmllbGQudmFsKCkubWF0Y2goL1teQF0rQFteQF0rXFwuW2Etel0vKSk7XG4gIH1cblxuICBjbGVhcklucHV0KCkge1xuICAgIHRoaXMuJGVtYWlsRmllbGQudmFsKCcnKTtcbiAgfVxuXG4gIGlucHV0T25DaGFuZ2UoZXZ0KSB7XG4gICAgdGhpcy4kbmV3c2xldHRlckZvcm0ucmVtb3ZlQ2xhc3MoJ2pzLWhhcy1lcnJvciBqcy1zdWNjZXNzJyk7XG4gICAgaWYgKHRoaXMuJHN1Ym1pdEJ1dHRvbi52YWwoKSAhPT0gJ3N1YnNjcmliZScpIHRoaXMuJHN1Ym1pdEJ1dHRvbi52YWwoJ3N1YnNjcmliZScpO1xuXG4gICAgaWYgKHRoaXMudmFsaWRhdGVFbWFpbCgpKSB7XG4gICAgICB0aGlzLiRzdWJtaXRCdXR0b24uYWRkQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRzdWJtaXRCdXR0b24ucmVtb3ZlQ2xhc3MoJ2pzLWFjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vICBTdWJtaXNzaW9uIEhhbmRsZXJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIG9uQmVmb3JlU2VuZCgpIHtcbiAgICB0aGlzLiRzdWJtaXRCdXR0b24uYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgfVxuXG4gIG9uRXJyb3IodHh0KSB7XG4gICAgdGhpcy4kc3VibWl0QnV0dG9uLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpLnZhbCgnV2hvb3BzISBTb21ldGhpbmcgZG9lc27igJl0IGxvb2sgcXVpdGUgcmlnaHQnKTs7XG4gICAgdGhpcy4kbmV3c2xldHRlckZvcm0uYWRkQ2xhc3MoJ2pzLWhhcy1lcnJvcicpO1xuICB9XG5cbiAgb25TdWNjZXNzKHJlcykge1xuICAgIHRoaXMuJHN1Ym1pdEJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ3N1YnNjcmliZWQhJyk7XG4gICAgdGhpcy4kbmV3c2xldHRlckZvcm0uYWRkQ2xhc3MoJ2pzLXN1Y2Nlc3MnKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5ld3NsZXR0ZXI7XG4iLCJjbGFzcyBTY3JvbGxMb2NrIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICB0aGlzLnByZXZTY3JvbGwgPSB7XG4gICAgICBzY3JvbGxUb3A6ICQod2luZG93KS5zY3JvbGxUb3AoKVxuICAgIH1cbiAgfVxuXG4gIHNhdmVTY3JvbGwoKSB7XG4gICAgdGhpcy5wcmV2U2Nyb2xsID0ge1xuICAgICAgc2Nyb2xsVG9wOiAkKHdpbmRvdykuc2Nyb2xsVG9wKClcbiAgICB9O1xuICB9XG5cbiAgdG9nZ2xlTG9jaygpIHtcbiAgICB0aGlzLmxvY2tlZCA9IHRoaXMubG9ja2VkICE9IHRydWU7XG5cbiAgICBpZih0aGlzLmxvY2tlZCl7XG4gICAgICB0aGlzLnNhdmVTY3JvbGwoKTtcbiAgICB9XG4gIH1cblxuICBzY3JvbGxQb3NpdGlvbigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICQod2luZG93KS5zY3JvbGxUb3AoX3RoaXMucHJldlNjcm9sbC5zY3JvbGxUb3ApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbExvY2s7XG4iLCJjbGFzcyBTZWFyY2gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiRzZWFyY2hGb3JtICAgID0gJCgnLmpzLXNlYXJjaC1wYWdlLWZvcm0nKTtcbiAgICB0aGlzLiRzZWFyY2hJbnB1dCAgID0gJCgnLmpzLXNlYXJjaC1wYWdlLWlucHV0Jyk7XG4gICAgdGhpcy4kbnVtUmVzdWx0cyAgICA9ICQoJy5qcy1udW0tcmVzdWx0cycpO1xuICAgIHRoaXMuJGZpbHRlck9wdGlvbnMgPSAkKCcuanMtZmlsdGVyLW9wdGlvbicpO1xuICAgIHRoaXMuJGFydGljbGVzICAgICAgPSAkKCcuanMtZmlsdGVyYWJsZSAudGVhc2UnKTtcbiAgICB0aGlzLiRmaWx0ZXJMaXN0ICAgID0gJCgnLmZpbHRlci1yZXN1bHRzX19saXN0Jyk7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbGV0IHNlYXJjaFRlcm0gPSB0aGlzLnBhcnNlVXJsKCd0ZXJtJyk7XG5cbiAgICBpZiAoc2VhcmNoVGVybSkge1xuICAgICAgdGhpcy4kc2VhcmNoSW5wdXQudmFsKGRlY29kZVVSSUNvbXBvbmVudChzZWFyY2hUZXJtKSk7XG4gICAgfVxuICAgIHRoaXMuJHNlYXJjaEZvcm0uc3VibWl0KCB0aGlzLnNlYXJjaFJlZGlyZWN0LmJpbmQodGhpcykgKTtcbiAgICB0aGlzLiRzZWFyY2hJbnB1dC5jbGljayggdGhpcy5jbGVhclNlYXJjaC5iaW5kKHRoaXMpICk7XG5cbiAgICBsZXQgbnVtQXJ0aWNsZXMgPSB0aGlzLiRhcnRpY2xlcy5sZW5ndGg7XG4gICAgdGhpcy4kbnVtUmVzdWx0cy50ZXh0KG51bUFydGljbGVzKTtcblxuICAgIHRoaXMuJGZpbHRlck9wdGlvbnMuY2xpY2soIHRoaXMuZmlsdGVyLmJpbmQodGhpcykgKTtcblxuICB9XG5cbiAgY2xlYXJTZWFyY2goKSB7XG4gICAgdGhpcy4kc2VhcmNoSW5wdXQudmFsKCcnKTtcbiAgfVxuXG4gIHNlYXJjaFJlZGlyZWN0KGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9zZWFyY2gvP3Rlcm09JHsgdGhpcy4kc2VhcmNoSW5wdXQudmFsKCkgfWApO1xuICB9XG5cbiAgcGFyc2VVcmwobmFtZSkge1xuICAgIHZhciByZXN1bHRzID0gbmV3IFJlZ0V4cCgnW1xcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJykuZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuIHJlc3VsdHMgPyByZXN1bHRzWzFdIDogMDtcbiAgfVxuXG4gIGZpbHRlcihldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGxldCAkYWN0aXZlRmlsdGVyID0gJChldnQudGFyZ2V0KTtcbiAgICBsZXQgZmlsdGVyVGVybSA9ICRhY3RpdmVGaWx0ZXIudGV4dCgpO1xuXG4gICAgdGhpcy4kZmlsdGVyT3B0aW9ucy5yZW1vdmVDbGFzcygnanMtYWN0aXZlLWZpbHRlcicpO1xuICAgIHRoaXMuJGFydGljbGVzLnJlbW92ZUNsYXNzKCdqcy1maWx0ZXJlZCcpO1xuXG4gICAgbGV0IG5vdE1hdGNoZWRBcnRpY2xlc0FycmF5ID0gdGhpcy4kYXJ0aWNsZXMuZmlsdGVyKCAoaSwgYXJ0aWNsZSkgPT4ge1xuICAgICAgbGV0IGNhdGVnb3J5ID0gJChhcnRpY2xlKS5maW5kKCcudGVhc2VfX2NhdGVnb3J5JykudGV4dCgpO1xuICAgICAgcmV0dXJuIGNhdGVnb3J5ICE9PSBmaWx0ZXJUZXJtO1xuICAgIH0pO1xuXG4gICAgbGV0IG51bUFydGljbGVzID0gdGhpcy4kYXJ0aWNsZXMubGVuZ3RoIC0gbm90TWF0Y2hlZEFydGljbGVzQXJyYXkubGVuZ3RoO1xuICAgIHRoaXMuJG51bVJlc3VsdHMudGV4dChudW1BcnRpY2xlcyk7XG5cbiAgICAkYWN0aXZlRmlsdGVyLmFkZENsYXNzKCdqcy1hY3RpdmUtZmlsdGVyJyk7XG4gICAgbm90TWF0Y2hlZEFydGljbGVzQXJyYXkuYWRkQ2xhc3MoJ2pzLWZpbHRlcmVkJyk7XG5cbiAgICB0aGlzLmFkZEZpbHRlclRhZyggJGFjdGl2ZUZpbHRlci50ZXh0KCkgKTtcbiAgfVxuXG4gIGFkZEZpbHRlclRhZyhmaWx0ZXJUZXh0KSB7XG4gICAgbGV0IGZpbHRlclRhZ0hUTUwgPSBgPGxpIGNsYXNzPVwiZmlsdGVyLXJlc3VsdHNfX2l0ZW1cIj48c3BhbiBjbGFzcz1cImZpbHRlci1yZXN1bHRzX19sYWJlbFwiPkZpbHRlcihzKSBhcHBsaWVkOjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJmaWx0ZXItcmVzdWx0c19fdGV4dFwiPiR7ZmlsdGVyVGV4dH08L3NwYW4+Jm5ic3A7PGRpdiBjbGFzcz1cImZpbHRlci1yZXN1bHRzX19jbGVhclwiPsOXPC9kaXY+PC9saT5gO1xuICAgIHRoaXMuJGZpbHRlckxpc3QuaHRtbChmaWx0ZXJUYWdIVE1MKTtcblxuICAgICQoJy5maWx0ZXItcmVzdWx0c19faXRlbScpLmNsaWNrKCB0aGlzLnJlbW92ZUZpbHRlcnMuYmluZCh0aGlzKSApO1xuICB9XG5cbiAgcmVtb3ZlRmlsdGVycyhldnQpIHtcbiAgICB0aGlzLiRmaWx0ZXJPcHRpb25zLnJlbW92ZUNsYXNzKCdqcy1hY3RpdmUtZmlsdGVyJyk7XG4gICAgdGhpcy4kYXJ0aWNsZXMucmVtb3ZlQ2xhc3MoJ2pzLWZpbHRlcmVkJyk7XG5cbiAgICB0aGlzLiRudW1SZXN1bHRzLnRleHQoIHRoaXMuJGFydGljbGVzLmxlbmd0aCApO1xuXG4gICAgJCgnLmZpbHRlci1yZXN1bHRzX19pdGVtJykucmVtb3ZlKCk7XG4gIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoO1xuIiwiY2xhc3MgU2xpZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4kaW1hZ2VTbGlkZXIgPSAkKCcuc2xpZGVyLS1pbWFnZScpO1xuICAgIHRoaXMuJG5ld3NTbGlkZXIgID0gJCgnLnNsaWRlci0tbmV3cycpO1xuXG4gICAgdGhpcy5icmVha3BvaW50ID0ge1xuICAgICAgbW9iaWxlOiA1MDAsXG4gICAgICBtb2JpbGVIb3JpejogNjAwLFxuICAgICAgdGFibGV0OiA3NjgsXG4gICAgICB0YWJsZXRIb3JpejogMTA4MCxcbiAgICAgIGRlc2t0b3A6IDEyMDAsXG4gICAgICBkZXNrdG9wWGw6IDE0NDBcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuJGltYWdlU2xpZGVyLnNsaWNrKHtcbiAgICAgIGRvdHM6IHRydWUsXG4gICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICB9KTtcbiAgICB0aGlzLmNyZWF0ZU5ld3NTbGlkZXIoKTtcblxuICAgICQoZG9jdW1lbnQpLmZpbmQoJy5zbGljay1saXN0JykuYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgfVxuXG4gIGNyZWF0ZU5ld3NTbGlkZXIoKSB7XG4gICAgdGhpcy4kbmV3c1NsaWRlci5zbGljayh7XG4gICAgICBjZW50ZXJNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzVG9TaG93OiA1LFxuICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgZG90czogdHJ1ZSxcblxuICAgICAgcmVzcG9uc2l2ZTogW3tcblxuICAgICAgICBicmVha3BvaW50OiB0aGlzLmJyZWFrcG9pbnQuZGVza3RvcFhsLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgICB9XG4gICAgICB9LCB7XG5cbiAgICAgICAgYnJlYWtwb2ludDogdGhpcy5icmVha3BvaW50LmRlc2t0b3AsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgIH1cbiAgICAgIH0sIHtcblxuICAgICAgICBicmVha3BvaW50OiB0aGlzLmJyZWFrcG9pbnQudGFibGV0SG9yaXosXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgIH1cbiAgICAgIH0sIHtcblxuICAgICAgICBicmVha3BvaW50OiB0aGlzLmJyZWFrcG9pbnQudGFibGV0LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxuICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgIH1cbiAgICAgIH0sIHtcblxuICAgICAgICBicmVha3BvaW50OiB0aGlzLmJyZWFrcG9pbnQubW9iaWxlSG9yaXosXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgfSwge1xuXG4gICAgICAgIGJyZWFrcG9pbnQ6IHRoaXMuYnJlYWtwb2ludC5tb2JpbGUsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9KTtcbiAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7XG4iLCJjbGFzcyBUb2dnbGVEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgdGhpcy4kdG9nZ2xlQ2xpY2sgPSAkKGVsKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy4kdG9nZ2xlQ2xpY2suY2xpY2soIHRoaXMudG9nZ2xlRmlsdGVyLmJpbmQodGhpcykgKTtcbiAgfVxuXG4gIHRvZ2dsZUZpbHRlcihldnQpIHtcbiAgICBsZXQgJGFjdGl2ZUl0ZW0gPSAkKGV2dC50YXJnZXQpLnBhcmVudCgpO1xuICAgICRhY3RpdmVJdGVtLnRvZ2dsZUNsYXNzKCdmaWx0ZXItbGlzdC0taW4tdmlldycpO1xuXG4gICAgbGV0ICRhY3RpdmVDb250ZW50ID0gJGFjdGl2ZUl0ZW0ubmV4dCgpO1xuXG4gICAgaWYgKCRhY3RpdmVJdGVtLmhhc0NsYXNzKCdmaWx0ZXItbGlzdC0taW4tdmlldycpKSB7XG4gICAgICAkYWN0aXZlQ29udGVudC5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGFjdGl2ZUNvbnRlbnQuc2xpZGVVcCgnZmFzdCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2dnbGVEcm9wZG93bjtcbiIsImNsYXNzIFRvZ2dsZU5hdiB7XG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgdGhpcy50b2dnbGVOYXYgPSAkKGVsKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy50b2dnbGVOYXYub24oJ2NsaWNrJywgdGhpcy5zd2l0Y2hUYWJzLmJpbmQodGhpcykpO1xuICAgICQoJy50b2dnbGUtbmF2aWdhdGlvbl9faXRlbScpLmZpcnN0KCkuY3NzKHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICB9KTtcbiAgfVxuXG4gIHN3aXRjaFRhYnMoZXZ0KSB7XG4gICAgbGV0ICRjdXJyZW50TGluayA9ICQoZXZ0LnRhcmdldCk7XG4gICAgbGV0ICRjdXJyZW50RmlsdGVySXRlbSA9ICRjdXJyZW50TGluay50ZXh0KCk7XG5cbiAgICAkKCcuanMtdG9nZ2xlLW5hdiBsaSBidXR0b24nKS5ub3QoJGN1cnJlbnRMaW5rKS5yZW1vdmVDbGFzcygndG9nZ2xlLW5hdmlnYXRpb25fX2J1dHRvbi0tYWN0aXZlJyk7XG4gICAgJGN1cnJlbnRMaW5rLmFkZENsYXNzKCd0b2dnbGUtbmF2aWdhdGlvbl9fYnV0dG9uLS1hY3RpdmUnKTtcblxuICAgICQoJy50b2dnbGUtbmF2aWdhdGlvbl9faXRlbScpLnJlbW92ZUNsYXNzKCd0b2dnbGUtbmF2aWdhdGlvbl9faXRlbS0tYWN0aXZlJyk7XG4gICAgJChgLnRvZ2dsZS1uYXZpZ2F0aW9uX19pdGVtW2RhdGEtdG9nZ2xlPSckeyRjdXJyZW50RmlsdGVySXRlbX0nXWApLmFkZENsYXNzKCd0b2dnbGUtbmF2aWdhdGlvbl9faXRlbS0tYWN0aXZlJyk7XG5cbiAgICAkKGAudG9nZ2xlLW5hdmlnYXRpb25fX2l0ZW1bZGF0YS10b2dnbGU9JyR7JGN1cnJlbnRGaWx0ZXJJdGVtfSddYCkuYWRkQ2xhc3MoJ3RvZ2dsZS1uYXZpZ2F0aW9uX19pdGVtLS1hY3RpdmUnKTtcblxuICAgIGlmICgkKGAuanMtdG9nZ2xlLWZhZGVbZGF0YS10b2dnbGUtdW5hY3RpdmU9JyR7JGN1cnJlbnRGaWx0ZXJJdGVtfSddYCkubGVuZ3RoKSB7XG4gICAgICAkKGAuanMtdG9nZ2xlLWZhZGVbZGF0YS10b2dnbGUtdW5hY3RpdmU9JyR7JGN1cnJlbnRGaWx0ZXJJdGVtfSddYCkuYWRkQ2xhc3MoJ3RvZ2dsZS1pdGVtLWZhZGUtLWFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuanMtdG9nZ2xlLWZhZGUnKS5yZW1vdmVDbGFzcygndG9nZ2xlLWl0ZW0tZmFkZS0tYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRlSXRlbXMoKTtcbiAgfVxuXG4gIGFuaW1hdGVJdGVtcygpIHtcbiAgICAkKCcudG9nZ2xlLW5hdmlnYXRpb25fX2l0ZW0nKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygndG9nZ2xlLW5hdmlnYXRpb25fX2l0ZW0tLWFjdGl2ZScpKSB7XG4gICAgICAgICQodGhpcykuZmFkZUluKCdmYXN0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHRoaXMpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2dnbGVOYXY7XG4iLCJjbGFzcyBWaWRlbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudmlkZW8gPSAkKCcuanMtdmlkZW8nKTtcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyID0gdGhpcy52aWRlby5wYXJlbnQoJy52aWRlby1jb250YWluZXInKTtcbiAgICB0aGlzLnBsYXlCdXR0b24gPSB0aGlzLnZpZGVvQ29udGFpbmVyLmZpbmQoJy5qcy1wbGF5LXZpZGVvJyk7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy52aWRlb0NvbnRhaW5lci5tb3VzZWVudGVyKCB0aGlzLnNob3dDb250cm9scy5iaW5kKHRoaXMpICk7XG4gICAgdGhpcy52aWRlb0NvbnRhaW5lci5tb3VzZWxlYXZlKCB0aGlzLmhpZGVDb250cm9scy5iaW5kKHRoaXMpICk7XG4gICAgdGhpcy5wbGF5QnV0dG9uLmNsaWNrKCB0aGlzLnRvZ2dsZVBsYXkuYmluZCh0aGlzKSApO1xuICB9XG5cbiAgc2hvd0NvbnRyb2xzKCkge1xuICAgIHRoaXMudmlkZW9Db250YWluZXIuYWRkQ2xhc3MoJ2pzLXZpZGVvLS1zaG93LWNvbnRyb2xzJyk7XG4gICAgdGhpcy52aWRlby5hdHRyKCdjb250cm9scycsICdjb250cm9scycpXG4gIH1cblxuICBoaWRlQ29udHJvbHMoKSB7XG4gICAgdGhpcy52aWRlb0NvbnRhaW5lci5yZW1vdmVDbGFzcygnanMtdmlkZW8tLXNob3ctY29udHJvbHMnKTtcbiAgICB0aGlzLnZpZGVvLmF0dHIoJ2NvbnRyb2xzJywgbnVsbClcbiAgfVxuXG4gIHRvZ2dsZVBsYXkoZXZ0KSB7XG4gICAgbGV0IHZpZGVvID0gJChldnQudGFyZ2V0KS5wYXJlbnRzKCcudmlkZW8tY29udGFpbmVyJykuZmluZCgndmlkZW8nKVswXTtcblxuICAgIGlmICh2aWRlby5wYXVzZWQpIHtcbiAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgIHRoaXMudmlkZW9Db250YWluZXIuYWRkQ2xhc3MoJ2pzLXZpZGVvLS1wbGF5Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLnJlbW92ZUNsYXNzKCdqcy12aWRlby0tcGxheScpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVmlkZW87XG4iXX0="}